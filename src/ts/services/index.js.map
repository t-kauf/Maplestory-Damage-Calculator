{
  "version": 3,
  "sources": ["index.ts"],
  "sourcesContent": ["/**\n * Companion Service\n *\n * Provides access to static companion data from companion-data.ts\n * This service does NOT handle user configuration (unlocked status, levels, presets)\n * - that data lives in the loadout store (loadout-data companions)\n *\n * Usage:\n * - Import this service for static data: getCompanionEffects(), getCompanionClasses(), etc.\n * - Import loadoutStore for user config: getCompanion(), getPresets(), etc.\n */\n\nimport { COMPANION_DATA } from '../data/companion-data.js';\nimport type { CompanionLevelData, CompanionClassData, CompanionDataRoot, CompanionRarityData } from '../data/companion-data.js';\nimport type { CompanionKey, CompanionClass, CompanionEffects } from '@ts/types/page/companions/companions.types';\n\n// ============================================================================\n// STATIC DATA ACCESS (from companion-data.ts)\n// ============================================================================\n\n/**\n * Get companion effects for a given class, rarity, and level\n * @param className - The companion class (e.g., 'Hero', 'BowMaster', 'NightLord')\n * @param rarity - The rarity ('Normal', 'Rare', 'Epic', 'Unique', 'Legendary')\n * @param level - The companion level (1-300)\n * @returns Object containing inventoryEffect and equipEffect, or null if not found\n */\nexport function getCompanionEffects(\n    className: string,\n    rarity: string,\n    level: number\n): CompanionEffects | null {\n    // Validate inputs\n    if (!COMPANION_DATA.classes.includes(className)) {\n        console.warn(`Invalid class: ${className}. Available classes:`, COMPANION_DATA.classes);\n        return null;\n    }\n\n    if (!COMPANION_DATA.rarities.includes(rarity)) {\n        console.warn(`Invalid rarity: ${rarity}. Available rarities:`, COMPANION_DATA.rarities);\n        return null;\n    }\n\n    if (level < 1 || level > COMPANION_DATA.maxLevel) {\n        console.warn(`Invalid level: ${level}. Must be between 1 and ${COMPANION_DATA.maxLevel}`);\n        return null;\n    }\n\n    // Get the companion data\n    const classData = COMPANION_DATA.data[className];\n    if (!classData || !classData[rarity]) {\n        return null;\n    }\n\n    const rarityData = classData[rarity];\n    const levelData = rarityData.levels[level];\n\n    if (!levelData) {\n        console.warn(`No data found for level ${level}`);\n        return null;\n    }\n\n    return {\n        inventoryEffect: levelData.inventoryEffect,\n        equipEffect: levelData.equipEffect,\n        supporterCode: parseInt(rarityData.supporterCode, 10),\n        supporterIndex: parseInt(rarityData.supporterIndex, 10)\n    };\n}\n\n/**\n * Get all available companion classes\n * @returns Array of class names\n */\nexport function getCompanionClasses(): CompanionClass[] {\n    return [...COMPANION_DATA.classes] as CompanionClass[];\n}\n\n/**\n * Get all available rarities\n * @returns Array of rarity names\n */\nexport function getCompanionRarities(): string[] {\n    return [...COMPANION_DATA.rarities];\n}\n\n/**\n * Get maximum companion level\n * @returns Maximum level\n */\nexport function getMaxCompanionLevel(): number {\n    return COMPANION_DATA.maxLevel;\n}\n\n/**\n * Get all data for a specific companion class\n * @param className - The companion class\n * @returns All rarity data for the class, or null if not found\n */\nexport function getCompanionClassData(className: string): CompanionClassData | null {\n    if (!COMPANION_DATA.classes.includes(className)) {\n        console.warn(`Invalid class: ${className}`);\n        return null;\n    }\n    return COMPANION_DATA.data[className] || null;\n}\n\n/**\n * Get all available companion keys (class-rarity combinations)\n * @returns Array of all possible companion keys\n */\nexport function getAllCompanionKeys(): CompanionKey[] {\n    const keys: CompanionKey[] = [];\n    COMPANION_DATA.classes.forEach(className => {\n        COMPANION_DATA.rarities.forEach(rarity => {\n            keys.push(`${className}-${rarity}` as CompanionKey);\n        });\n    });\n    return keys;\n}\n\n// ============================================================================\n// DATA HELPERS\n// ============================================================================\n\n/**\n * Check if a companion key is valid\n * @param companionKey - Companion key to validate\n * @returns True if the key is valid\n */\nexport function isValidCompanionKey(companionKey: string): companionKey is CompanionKey {\n    const [className, rarity] = companionKey.split('-');\n    return COMPANION_DATA.classes.includes(className) && COMPANION_DATA.rarities.includes(rarity);\n}\n\n/**\n * Parse a companion key into class and rarity\n * @param companionKey - Companion key (e.g., 'Hero-Legendary')\n * @returns Object with className and rarity, or null if invalid\n */\nexport function parseCompanionKey(companionKey: CompanionKey): { className: CompanionClass; rarity: string } | null {\n    const [className, rarity] = companionKey.split('-');\n    if (!className || !rarity) return null;\n    if (!COMPANION_DATA.classes.includes(className) || !COMPANION_DATA.rarities.includes(rarity)) {\n        return null;\n    }\n    return { className: className as CompanionClass, rarity };\n}\n\n// ============================================================================\n// EXPORTS\n// ============================================================================\n\n// Export the raw data for advanced usage\nexport { COMPANION_DATA };\n\n// Export types from companion-data\nexport type { CompanionLevelData, CompanionRarityData, CompanionClassData, CompanionDataRoot } from '../data/companion-data.js';\n\n// Expose getCompanionEffects globally after module loads (for legacy compatibility)\n(window as any).getCompanionEffects = getCompanionEffects;\n"],
  "mappings": "AAYA,SAAS,sBAAsB;AAexB,SAAS,oBACZ,WACA,QACA,OACuB;AAEvB,MAAI,CAAC,eAAe,QAAQ,SAAS,SAAS,GAAG;AAC7C,YAAQ,KAAK,kBAAkB,SAAS,wBAAwB,eAAe,OAAO;AACtF,WAAO;AAAA,EACX;AAEA,MAAI,CAAC,eAAe,SAAS,SAAS,MAAM,GAAG;AAC3C,YAAQ,KAAK,mBAAmB,MAAM,yBAAyB,eAAe,QAAQ;AACtF,WAAO;AAAA,EACX;AAEA,MAAI,QAAQ,KAAK,QAAQ,eAAe,UAAU;AAC9C,YAAQ,KAAK,kBAAkB,KAAK,2BAA2B,eAAe,QAAQ,EAAE;AACxF,WAAO;AAAA,EACX;AAGA,QAAM,YAAY,eAAe,KAAK,SAAS;AAC/C,MAAI,CAAC,aAAa,CAAC,UAAU,MAAM,GAAG;AAClC,WAAO;AAAA,EACX;AAEA,QAAM,aAAa,UAAU,MAAM;AACnC,QAAM,YAAY,WAAW,OAAO,KAAK;AAEzC,MAAI,CAAC,WAAW;AACZ,YAAQ,KAAK,2BAA2B,KAAK,EAAE;AAC/C,WAAO;AAAA,EACX;AAEA,SAAO;AAAA,IACH,iBAAiB,UAAU;AAAA,IAC3B,aAAa,UAAU;AAAA,IACvB,eAAe,SAAS,WAAW,eAAe,EAAE;AAAA,IACpD,gBAAgB,SAAS,WAAW,gBAAgB,EAAE;AAAA,EAC1D;AACJ;AAMO,SAAS,sBAAwC;AACpD,SAAO,CAAC,GAAG,eAAe,OAAO;AACrC;AAMO,SAAS,uBAAiC;AAC7C,SAAO,CAAC,GAAG,eAAe,QAAQ;AACtC;AAMO,SAAS,uBAA+B;AAC3C,SAAO,eAAe;AAC1B;AAOO,SAAS,sBAAsB,WAA8C;AAChF,MAAI,CAAC,eAAe,QAAQ,SAAS,SAAS,GAAG;AAC7C,YAAQ,KAAK,kBAAkB,SAAS,EAAE;AAC1C,WAAO;AAAA,EACX;AACA,SAAO,eAAe,KAAK,SAAS,KAAK;AAC7C;AAMO,SAAS,sBAAsC;AAClD,QAAM,OAAuB,CAAC;AAC9B,iBAAe,QAAQ,QAAQ,eAAa;AACxC,mBAAe,SAAS,QAAQ,YAAU;AACtC,WAAK,KAAK,GAAG,SAAS,IAAI,MAAM,EAAkB;AAAA,IACtD,CAAC;AAAA,EACL,CAAC;AACD,SAAO;AACX;AAWO,SAAS,oBAAoB,cAAoD;AACpF,QAAM,CAAC,WAAW,MAAM,IAAI,aAAa,MAAM,GAAG;AAClD,SAAO,eAAe,QAAQ,SAAS,SAAS,KAAK,eAAe,SAAS,SAAS,MAAM;AAChG;AAOO,SAAS,kBAAkB,cAAkF;AAChH,QAAM,CAAC,WAAW,MAAM,IAAI,aAAa,MAAM,GAAG;AAClD,MAAI,CAAC,aAAa,CAAC,OAAQ,QAAO;AAClC,MAAI,CAAC,eAAe,QAAQ,SAAS,SAAS,KAAK,CAAC,eAAe,SAAS,SAAS,MAAM,GAAG;AAC1F,WAAO;AAAA,EACX;AACA,SAAO,EAAE,WAAwC,OAAO;AAC5D;AAaC,OAAe,sBAAsB;",
  "names": []
}
