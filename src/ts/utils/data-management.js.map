{
  "version": 3,
  "sources": ["data-management.ts"],
  "sourcesContent": ["declare global {\r\n    interface Window {\r\n        importData: () => void;\r\n        exportData: () => void;\r\n    }\r\n}\r\n\r\ninterface ImportData {\r\n    damageCalculatorData?: string | unknown;\r\n    heroPowerPresets?: string | unknown;\r\n    cubePotentialData?: string | unknown;\r\n    comparisonItems?: unknown;\r\n    selectedClass?: string;\r\n    selectedJobTier?: string;\r\n    theme?: string;\r\n    equipmentSlots?: string;\r\n    \"equipped.head\"?: unknown;\r\n    \"equipped.shoulders\"?: unknown;\r\n    \"equipped.chest\"?: unknown;\r\n    \"equipped.cape\"?: unknown;\r\n    \"equipped.ring\"?: unknown;\r\n    \"equipped.neck\"?: unknown;\r\n    \"equipped.eye-accessory\"?: unknown;\r\n    \"equipped.belt\"?: unknown;\r\n    \"equipped.gloves\"?: unknown;\r\n    \"equipped.boots\"?: unknown;\r\n    \"equipped.legs\"?: unknown;\r\n}\r\n\r\ninterface ExportData {\r\n    damageCalculatorData: string | null;\r\n    heroPowerPresets: string | null;\r\n    cubePotentialData: string | null;\r\n    comparisonItems: unknown;\r\n    selectedClass: string | null;\r\n    selectedJobTier: string | null;\r\n    theme: string | null;\r\n}\r\n\r\n// Forward declaration for external function\r\ndeclare function exportComparisonItems(): unknown;\r\n\r\nwindow.importData = importData;\r\nwindow.exportData = exportData;\r\n\r\n// Import data from clipboard to local storage\r\nexport function importData(): void {\r\n    navigator.clipboard.readText().then(text => {\r\n        try {\r\n            const data: unknown = JSON.parse(text);\r\n\r\n            // Validate the data structure\r\n            const importData = data as ImportData;\r\n            if (!importData.damageCalculatorData && !importData.heroPowerPresets && !importData.cubePotentialData && !importData.comparisonItems) {\r\n                throw new Error('Invalid data format');\r\n            }\r\n\r\n            // Confirm before overwriting\r\n            if (!confirm('\u26A0\uFE0F This will overwrite your current data. Are you sure you want to continue?')) {\r\n                return;\r\n            }\r\n\r\n            // Import each piece of data (stringify if it's an object)\r\n            if (importData.damageCalculatorData) {\r\n                const dataString = typeof importData.damageCalculatorData === 'string'\r\n                    ? importData.damageCalculatorData\r\n                    : JSON.stringify(importData.damageCalculatorData);\r\n                localStorage.setItem('damageCalculatorData', dataString);\r\n            }\r\n            if (importData.heroPowerPresets) {\r\n                const dataString = typeof importData.heroPowerPresets === 'string'\r\n                    ? importData.heroPowerPresets\r\n                    : JSON.stringify(importData.heroPowerPresets);\r\n                localStorage.setItem('heroPowerPresets', dataString);\r\n            }\r\n            if (importData.cubePotentialData) {\r\n                const dataString = typeof importData.cubePotentialData === 'string'\r\n                    ? importData.cubePotentialData\r\n                    : JSON.stringify(importData.cubePotentialData);\r\n                localStorage.setItem('cubePotentialData', dataString);\r\n            }\r\n            if (importData.comparisonItems) {\r\n                // importComparisonItems(importData.comparisonItems);\r\n            }\r\n            if (importData.selectedClass) {\r\n                localStorage.setItem('selectedClass', importData.selectedClass);\r\n            }\r\n            if (importData.selectedJobTier) {\r\n                localStorage.setItem('selectedJobTier', importData.selectedJobTier);\r\n            }\r\n            if (importData.theme) {\r\n                localStorage.setItem('theme', importData.theme);\r\n            }\r\n\r\n            if (importData.equipmentSlots) {\r\n                localStorage.setItem('equipmentSlots', JSON.stringify(importData.equipmentSlots));\r\n            }\r\n\r\n            if(importData[\"equipped.head\"])\r\n            {\r\n      localStorage.setItem('equipped.head',         JSON.stringify(importData[\"equipped.head\"]));\r\n      localStorage.setItem('equipped.cape',         JSON.stringify(importData[\"equipped.cape\"]));\r\n      localStorage.setItem('equipped.chest',        JSON.stringify(importData[\"equipped.chest\"]));\r\n      localStorage.setItem('equipped.legs',         JSON.stringify(importData[\"equipped.legs\"]));\r\n      localStorage.setItem('equipped.belt',         JSON.stringify(importData[\"equipped.belt\"]));\r\n      localStorage.setItem('equipped.gloves',       JSON.stringify(importData[\"equipped.gloves\"]));\r\n      localStorage.setItem('equipped.boots',        JSON.stringify(importData[\"equipped.boots\"]));\r\n      localStorage.setItem('equipped.shoulders',    JSON.stringify(importData[\"equipped.shoulders\"]));\r\n      localStorage.setItem('equipped.ring',         JSON.stringify(importData[\"equipped.ring\"]));\r\n      localStorage.setItem('equipped.neck',         JSON.stringify(importData[\"equipped.neck\"]));\r\n      localStorage.setItem('equipped.eye-accessory',    JSON.stringify(importData[\"equipped.eye-accessory\"]));\r\n            }\r\n\r\n            alert('\u2705 Data imported successfully! Refreshing page...');\r\n            location.reload();\r\n        } catch (err) {\r\n            console.error('Failed to import data:', err);\r\n            alert('\u274C Failed to import data. Please make sure you copied valid data.');\r\n        }\r\n    }).catch((err: unknown) => {\r\n        console.error('Failed to read clipboard:', err);\r\n        alert('\u274C Failed to read clipboard. Please make sure you have data copied.');\r\n    });\r\n}\r\n\r\n// Export all local storage data to clipboard\r\nexport function exportData(): void {\r\n    const allData: ExportData = {\r\n        damageCalculatorData: localStorage.getItem('damageCalculatorData'),\r\n        heroPowerPresets: localStorage.getItem('heroPowerPresets'),\r\n        cubePotentialData: localStorage.getItem('cubePotentialData'),\r\n        comparisonItems: exportComparisonItems(),\r\n        selectedClass: localStorage.getItem('selectedClass'),\r\n        selectedJobTier: localStorage.getItem('selectedJobTier'),\r\n        theme: localStorage.getItem('theme')\r\n    };\r\n\r\n    // Parse JSON strings so they're not double-stringified\r\n    (Object.keys(allData) as Array<keyof ExportData>).forEach(key => {\r\n        const value = allData[key];\r\n        if (value && typeof value === 'string') {\r\n            try {\r\n                allData[key] = JSON.parse(value) as never;\r\n            } catch (e) {\r\n                // If it's not JSON (like theme which is just a string), keep as is\r\n            }\r\n        }\r\n    });\r\n\r\n    const jsonString = JSON.stringify(allData, null, 2);\r\n\r\n    navigator.clipboard.writeText(jsonString).then(() => {\r\n        alert('\u2705 Data copied to clipboard! You can now paste it on another device.');\r\n    }).catch((err: unknown) => {\r\n        console.error('Failed to copy data:', err);\r\n        alert('\u274C Failed to copy data. Please check console for details.');\r\n    });\r\n}\r\n"],
  "mappings": "AA0CA,OAAO,aAAa;AACpB,OAAO,aAAa;AAGb,SAAS,aAAmB;AAC/B,YAAU,UAAU,SAAS,EAAE,KAAK,UAAQ;AACxC,QAAI;AACA,YAAM,OAAgB,KAAK,MAAM,IAAI;AAGrC,YAAMA,cAAa;AACnB,UAAI,CAACA,YAAW,wBAAwB,CAACA,YAAW,oBAAoB,CAACA,YAAW,qBAAqB,CAACA,YAAW,iBAAiB;AAClI,cAAM,IAAI,MAAM,qBAAqB;AAAA,MACzC;AAGA,UAAI,CAAC,QAAQ,wFAA8E,GAAG;AAC1F;AAAA,MACJ;AAGA,UAAIA,YAAW,sBAAsB;AACjC,cAAM,aAAa,OAAOA,YAAW,yBAAyB,WACxDA,YAAW,uBACX,KAAK,UAAUA,YAAW,oBAAoB;AACpD,qBAAa,QAAQ,wBAAwB,UAAU;AAAA,MAC3D;AACA,UAAIA,YAAW,kBAAkB;AAC7B,cAAM,aAAa,OAAOA,YAAW,qBAAqB,WACpDA,YAAW,mBACX,KAAK,UAAUA,YAAW,gBAAgB;AAChD,qBAAa,QAAQ,oBAAoB,UAAU;AAAA,MACvD;AACA,UAAIA,YAAW,mBAAmB;AAC9B,cAAM,aAAa,OAAOA,YAAW,sBAAsB,WACrDA,YAAW,oBACX,KAAK,UAAUA,YAAW,iBAAiB;AACjD,qBAAa,QAAQ,qBAAqB,UAAU;AAAA,MACxD;AACA,UAAIA,YAAW,iBAAiB;AAAA,MAEhC;AACA,UAAIA,YAAW,eAAe;AAC1B,qBAAa,QAAQ,iBAAiBA,YAAW,aAAa;AAAA,MAClE;AACA,UAAIA,YAAW,iBAAiB;AAC5B,qBAAa,QAAQ,mBAAmBA,YAAW,eAAe;AAAA,MACtE;AACA,UAAIA,YAAW,OAAO;AAClB,qBAAa,QAAQ,SAASA,YAAW,KAAK;AAAA,MAClD;AAEA,UAAIA,YAAW,gBAAgB;AAC3B,qBAAa,QAAQ,kBAAkB,KAAK,UAAUA,YAAW,cAAc,CAAC;AAAA,MACpF;AAEA,UAAGA,YAAW,eAAe,GAC7B;AACN,qBAAa,QAAQ,iBAAyB,KAAK,UAAUA,YAAW,eAAe,CAAC,CAAC;AACzF,qBAAa,QAAQ,iBAAyB,KAAK,UAAUA,YAAW,eAAe,CAAC,CAAC;AACzF,qBAAa,QAAQ,kBAAyB,KAAK,UAAUA,YAAW,gBAAgB,CAAC,CAAC;AAC1F,qBAAa,QAAQ,iBAAyB,KAAK,UAAUA,YAAW,eAAe,CAAC,CAAC;AACzF,qBAAa,QAAQ,iBAAyB,KAAK,UAAUA,YAAW,eAAe,CAAC,CAAC;AACzF,qBAAa,QAAQ,mBAAyB,KAAK,UAAUA,YAAW,iBAAiB,CAAC,CAAC;AAC3F,qBAAa,QAAQ,kBAAyB,KAAK,UAAUA,YAAW,gBAAgB,CAAC,CAAC;AAC1F,qBAAa,QAAQ,sBAAyB,KAAK,UAAUA,YAAW,oBAAoB,CAAC,CAAC;AAC9F,qBAAa,QAAQ,iBAAyB,KAAK,UAAUA,YAAW,eAAe,CAAC,CAAC;AACzF,qBAAa,QAAQ,iBAAyB,KAAK,UAAUA,YAAW,eAAe,CAAC,CAAC;AACzF,qBAAa,QAAQ,0BAA6B,KAAK,UAAUA,YAAW,wBAAwB,CAAC,CAAC;AAAA,MAChG;AAEA,YAAM,uDAAkD;AACxD,eAAS,OAAO;AAAA,IACpB,SAAS,KAAK;AACV,cAAQ,MAAM,0BAA0B,GAAG;AAC3C,YAAM,uEAAkE;AAAA,IAC5E;AAAA,EACJ,CAAC,EAAE,MAAM,CAAC,QAAiB;AACvB,YAAQ,MAAM,6BAA6B,GAAG;AAC9C,UAAM,yEAAoE;AAAA,EAC9E,CAAC;AACL;AAGO,SAAS,aAAmB;AAC/B,QAAM,UAAsB;AAAA,IACxB,sBAAsB,aAAa,QAAQ,sBAAsB;AAAA,IACjE,kBAAkB,aAAa,QAAQ,kBAAkB;AAAA,IACzD,mBAAmB,aAAa,QAAQ,mBAAmB;AAAA,IAC3D,iBAAiB,sBAAsB;AAAA,IACvC,eAAe,aAAa,QAAQ,eAAe;AAAA,IACnD,iBAAiB,aAAa,QAAQ,iBAAiB;AAAA,IACvD,OAAO,aAAa,QAAQ,OAAO;AAAA,EACvC;AAGA,EAAC,OAAO,KAAK,OAAO,EAA8B,QAAQ,SAAO;AAC7D,UAAM,QAAQ,QAAQ,GAAG;AACzB,QAAI,SAAS,OAAO,UAAU,UAAU;AACpC,UAAI;AACA,gBAAQ,GAAG,IAAI,KAAK,MAAM,KAAK;AAAA,MACnC,SAAS,GAAG;AAAA,MAEZ;AAAA,IACJ;AAAA,EACJ,CAAC;AAED,QAAM,aAAa,KAAK,UAAU,SAAS,MAAM,CAAC;AAElD,YAAU,UAAU,UAAU,UAAU,EAAE,KAAK,MAAM;AACjD,UAAM,0EAAqE;AAAA,EAC/E,CAAC,EAAE,MAAM,CAAC,QAAiB;AACvB,YAAQ,MAAM,wBAAwB,GAAG;AACzC,UAAM,+DAA0D;AAAA,EACpE,CAAC;AACL;",
  "names": ["importData"]
}
