{
  "version": 3,
  "sources": ["app-sidebar-ui.ts"],
  "sourcesContent": ["/**\n * App Sidebar UI Generation\n *\n * This file handles all HTML generation for the main application sidebar navigation.\n */\n\nimport { StatCalculationService } from \"@ts/services/stat-calculation-service\";\nimport { loadoutStore } from \"@ts/store/loadout.store\";\nimport { formatDPS } from \"./formatters\";\nimport { debounce } from \"./event-emitter\";\n\n// ============================================================================\n// HTML GENERATION\n// ============================================================================\n\n/**\n * Generate HTML for a submenu item\n */\nfunction generateSubmenuItem(page: string, tab: string, label: string): string {\n    const displayStyle = tab === 'stat-breakdown' || tab === 'artifacts' ? 'style=\"display: none;\"' : '';\n    return `<button ${displayStyle} class=\"sidebar-submenu-item\" data-tab=\"${tab}\" onclick=\"navigateToTab('${page}', '${tab}')\">${label}</button>`;\n}\n\n/**\n * Generate HTML for a navigation section with submenu\n */\nfunction generateNavSection(\n    pageId: string,\n    icon: string,\n    label: string,\n    submenus: Array<{ tab: string; label: string }>\n): string {\n    const submenuItems = submenus\n        .map(({ tab, label }) => generateSubmenuItem(pageId, tab, label))\n        .join('\\n                ');\n\n    return `\n            <!-- ${label} Section -->\n            <button class=\"sidebar-nav-item\" data-page=\"${pageId}\" onclick=\"toggleSubMenu('${pageId}')\">\n                <span class=\"sidebar-icon\">${icon}</span>\n                <span>${label}</span>\n                <span class=\"submenu-arrow\">\u25BC</span>\n            </button>\n            <div class=\"sidebar-submenu\" id=\"submenu-${pageId}\">\n                ${submenuItems}\n            </div>`;\n}\n\n/**\n * Generate the complete HTML for the app sidebar\n */\nexport function generateAppSidebarHTML(): string {\n    return `\n        <nav class=\"sidebar-nav\">\n            ${generateNavSection('setup', '\uD83C\uDFAE', 'Loadout', [\n        { tab: 'base-stats', label: 'Base Stats' },\n        { tab: 'equipment', label: 'Equipment' },\n        { tab: 'weapon-levels', label: 'Weapon Levels' },\n        { tab: 'companions', label: 'Companions' },\n        { tab: 'artifacts', label: 'Artifacts' }\n    ])}\n\n            ${generateNavSection('optimization', '\uD83E\uDDEA', 'Gear Lab', [\n        { tab: 'item-comparison', label: 'Item Comparison' },\n        { tab: 'inner-ability', label: 'Inner Ability' },\n        { tab: 'artifact-potential', label: 'Artifact Potential' },\n        { tab: 'scroll-optimizer', label: 'Scrolling' },\n        { tab: 'cube-potential', label: 'Cube Potential' },\n        { tab: 'stat-breakdown', label: 'Stat Breakdown' }\n    ])}\n\n            ${generateNavSection('predictions', '\uD83D\uDCCA', 'Stat Hub', [\n        { tab: 'stat-tables', label: 'Stat Predictions' },\n        { tab: 'equivalency', label: 'Stat Equivalency' }\n    ])}\n        </nav>\n\n        <div class=\"sidebar-footer\">\n            <div class=\"sidebar-dps-summary\">\n                <span class=\"sidebar-dps-label\">Current DPS</span>\n                <span id=\"sidebar-dps-value\" class=\"sidebar-dps-value\">-</span>\n            </div>\n            <div class=\"sidebar-footer-actions\">\n                <button onclick=\"exportData()\" class=\"sidebar-footer-btn\">\n                    <span>\uD83D\uDCCB</span>\n                    <span>Copy</span>\n                </button>\n                <button onclick=\"importData()\" class=\"sidebar-footer-btn\">\n                    <span>\uD83D\uDCE5</span>\n                    <span>Paste</span>\n                </button>\n            </div>\n            <button onclick=\"toggleTheme()\" id=\"theme-toggle-sidebar\" class=\"sidebar-footer-btn\" style=\"display: none !important;\">\n                <span id=\"theme-icon-sidebar\">\uD83C\uDF19</span>import { StatCalculationService } from '@ts/services/stat-calculation-service.js';\n\n                <span>Toggle Theme</span>\n            </button>\n            <a href=\"https://paypal.me/freakehms\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"sidebar-footer-btn donate-btn\">\n                <span>\uD83D\uDC9D</span>\n                <span>Support</span>\n            </a>\n            <button onclick=\"openCreditsModal()\" class=\"sidebar-footer-btn credits-btn\">\n                <span>\u2728</span>\n                <span>Credits</span>\n            </button>\n        </div>`;\n}\n\n// ============================================================================\n// INITIALIZATION\n// ============================================================================\n\n/**\n * Initialize the app sidebar UI\n */\nexport function initializeAppSidebarUI(): void {\n    const container = document.getElementById('app-sidebar');\n    if (!container) {\n        console.error('App sidebar container not found');\n        return;\n    }\n\n    // Generate HTML\n    container.innerHTML = generateAppSidebarHTML();\n\n    attachAppSidebarEventListeners();\n}\n\n/**\n * Attach event listeners for app sidebar UI\n */\nexport function attachAppSidebarEventListeners(): void {\n    loadoutStore.on('data:initialized', (_) => {\n        updateDps();\n    });\n\n    loadoutStore.on('stat:changed', debounce((_) => {\n        updateDps();\n    }, 1500));\n}\n\nfunction updateDps(): void {\n    const statCalculationService = new StatCalculationService(loadoutStore.getBaseStats());\n    const dpsValue = document.getElementById(`sidebar-dps-value`) as HTMLSpanElement;\n    dpsValue.innerText = formatDPS(statCalculationService.baseBossDPS);\n}"],
  "mappings": "AAMA,SAAS,8BAA8B;AACvC,SAAS,oBAAoB;AAC7B,SAAS,iBAAiB;AAC1B,SAAS,gBAAgB;AASzB,SAAS,oBAAoB,MAAc,KAAa,OAAuB;AAC3E,QAAM,eAAe,QAAQ,oBAAoB,QAAQ,cAAc,2BAA2B;AAClG,SAAO,WAAW,YAAY,2CAA2C,GAAG,6BAA6B,IAAI,OAAO,GAAG,OAAO,KAAK;AACvI;AAKA,SAAS,mBACL,QACA,MACA,OACA,UACM;AACN,QAAM,eAAe,SAChB,IAAI,CAAC,EAAE,KAAK,OAAAA,OAAM,MAAM,oBAAoB,QAAQ,KAAKA,MAAK,CAAC,EAC/D,KAAK,oBAAoB;AAE9B,SAAO;AAAA,mBACQ,KAAK;AAAA,0DACkC,MAAM,6BAA6B,MAAM;AAAA,6CACtD,IAAI;AAAA,wBACzB,KAAK;AAAA;AAAA;AAAA,uDAG0B,MAAM;AAAA,kBAC3C,YAAY;AAAA;AAE9B;AAKO,SAAS,yBAAiC;AAC7C,SAAO;AAAA;AAAA,cAEG,mBAAmB,SAAS,aAAM,WAAW;AAAA,IACnD,EAAE,KAAK,cAAc,OAAO,aAAa;AAAA,IACzC,EAAE,KAAK,aAAa,OAAO,YAAY;AAAA,IACvC,EAAE,KAAK,iBAAiB,OAAO,gBAAgB;AAAA,IAC/C,EAAE,KAAK,cAAc,OAAO,aAAa;AAAA,IACzC,EAAE,KAAK,aAAa,OAAO,YAAY;AAAA,EAC3C,CAAC,CAAC;AAAA;AAAA,cAEQ,mBAAmB,gBAAgB,aAAM,YAAY;AAAA,IAC3D,EAAE,KAAK,mBAAmB,OAAO,kBAAkB;AAAA,IACnD,EAAE,KAAK,iBAAiB,OAAO,gBAAgB;AAAA,IAC/C,EAAE,KAAK,sBAAsB,OAAO,qBAAqB;AAAA,IACzD,EAAE,KAAK,oBAAoB,OAAO,YAAY;AAAA,IAC9C,EAAE,KAAK,kBAAkB,OAAO,iBAAiB;AAAA,IACjD,EAAE,KAAK,kBAAkB,OAAO,iBAAiB;AAAA,EACrD,CAAC,CAAC;AAAA;AAAA,cAEQ,mBAAmB,eAAe,aAAM,YAAY;AAAA,IAC1D,EAAE,KAAK,eAAe,OAAO,mBAAmB;AAAA,IAChD,EAAE,KAAK,eAAe,OAAO,mBAAmB;AAAA,EACpD,CAAC,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgCN;AASO,SAAS,yBAA+B;AAC3C,QAAM,YAAY,SAAS,eAAe,aAAa;AACvD,MAAI,CAAC,WAAW;AACZ,YAAQ,MAAM,iCAAiC;AAC/C;AAAA,EACJ;AAGA,YAAU,YAAY,uBAAuB;AAE7C,iCAA+B;AACnC;AAKO,SAAS,iCAAuC;AACnD,eAAa,GAAG,oBAAoB,CAAC,MAAM;AACvC,cAAU;AAAA,EACd,CAAC;AAED,eAAa,GAAG,gBAAgB,SAAS,CAAC,MAAM;AAC5C,cAAU;AAAA,EACd,GAAG,IAAI,CAAC;AACZ;AAEA,SAAS,YAAkB;AACvB,QAAM,yBAAyB,IAAI,uBAAuB,aAAa,aAAa,CAAC;AACrF,QAAM,WAAW,SAAS,eAAe,mBAAmB;AAC5D,WAAS,YAAY,UAAU,uBAAuB,WAAW;AACrE;",
  "names": ["label"]
}
