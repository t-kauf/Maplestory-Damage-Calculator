{
  "version": 3,
  "sources": ["gear-lab.types.ts"],
  "sourcesContent": ["/**\r\n * Gear Lab Store Types\r\n *\r\n * Centralized types for the gearLabStore which manages Inner Ability presets\r\n * and will be extensible for future Gear Lab features.\r\n */\r\n\r\nimport type { StatId } from '@ts/types/constants';\r\n\r\n// ============================================================================\r\n// INNER ABILITY TYPES\r\n// ============================================================================\r\n\r\n/**\r\n * Individual inner ability line (stat + value)\r\n */\r\nexport interface InnerAbilityLine {\r\n    stat: string;  // e.g., \"Boss Monster Damage\"\r\n    statId: string;  // Maps to STAT.X.id (e.g., \"bossDamage\")\r\n    value: number;  // e.g., 40\r\n}\r\n\r\n/**\r\n * A complete inner ability preset (1-10)\r\n */\r\nexport interface InnerAbilityPreset {\r\n    id: number;  // 1-10\r\n    isEquipped: boolean;\r\n    lines: InnerAbilityLine[];  // Up to 6 lines, can be empty\r\n}\r\n\r\n/**\r\n * Result from preset comparison calculation\r\n */\r\nexport interface PresetComparisonResult {\r\n    id: number;\r\n    isEquipped: boolean;\r\n    lines: InnerAbilityLine[];\r\n    bossDPSGain: number;\r\n    normalDPSGain: number;\r\n    lineContributions: Array<{\r\n        stat: string;\r\n        value: number;\r\n        dpsContribution: number;\r\n    }>;\r\n}\r\n\r\n/**\r\n * Result from theoretical best calculation\r\n */\r\nexport interface TheoreticalRollResult {\r\n    stat: string;\r\n    rarity: string;  // 'Mystic', 'Legendary', etc.\r\n    roll: 'Min' | 'Mid' | 'Max';\r\n    value: number;\r\n    dpsGain: number;\r\n    percentIncrease: number;\r\n}\r\n\r\n/**\r\n * Best combination result\r\n */\r\nexport interface BestCombinationResult {\r\n    lines: Array<{\r\n        stat: string;\r\n        rarity: string;\r\n        value: number;\r\n        dpsGain?: number;\r\n    }>;\r\n    totalDPS: number;\r\n}\r\n\r\n// ============================================================================\r\n// CUBE POTENTIAL TYPES\r\n// ============================================================================\r\n\r\n/**\r\n * Equipment slot ID type\r\n */\r\nexport type CubeSlotId =\r\n    | 'helm' | 'cape' | 'chest' | 'shoulder' | 'legs' | 'belt'\r\n    | 'gloves' | 'boots' | 'ring' | 'necklace' | 'eye-accessory';\r\n\r\n/**\r\n * Potential type\r\n */\r\nexport type PotentialType = 'regular' | 'bonus';\r\n\r\n/**\r\n * Rarity tier\r\n */\r\nexport type Rarity = 'normal' | 'rare' | 'epic' | 'unique' | 'legendary' | 'mystic';\r\n\r\n/**\r\n * Individual potential line\r\n */\r\nexport interface PotentialLine {\r\n    stat: string;\r\n    value: number;\r\n    prime: boolean;\r\n}\r\n\r\n/**\r\n * Potential line entry for rankings\r\n */\r\nexport interface PotentialLineEntry {\r\n    stat: string;\r\n    value: number;\r\n    prime: boolean;\r\n    weight?: number; // Weight for weighted random selection\r\n}\r\n\r\n/**\r\n * A potential set (3 lines)\r\n */\r\nexport interface PotentialSet {\r\n    line1: PotentialLine;\r\n    line2: PotentialLine;\r\n    line3: PotentialLine;\r\n}\r\n\r\n/**\r\n * Empty potential line\r\n */\r\nexport const EMPTY_POTENTIAL_LINE: PotentialLine = {\r\n    stat: '',\r\n    value: 0,\r\n    prime: false\r\n};\r\n\r\n/**\r\n * Empty potential set\r\n */\r\nexport const EMPTY_POTENTIAL_SET: PotentialSet = {\r\n    line1: { ...EMPTY_POTENTIAL_LINE },\r\n    line2: { ...EMPTY_POTENTIAL_LINE },\r\n    line3: { ...EMPTY_POTENTIAL_LINE }\r\n};\r\n\r\n/**\r\n * Potential type data (contains both regular and bonus potential)\r\n */\r\nexport interface PotentialTypeData {\r\n    rarity: Rarity;\r\n    rollCount: number;\r\n    setA: PotentialSet;\r\n    setB: PotentialSet;\r\n}\r\n\r\n/**\r\n * Equipment slot configuration\r\n */\r\nexport interface CubeSlotConfig {\r\n    id: CubeSlotId;\r\n    name: string;\r\n}\r\n\r\n/**\r\n * Cube slot data (contains both regular and bonus potential)\r\n */\r\nexport interface CubeSlotData {\r\n    regular: PotentialTypeData;\r\n    bonus: PotentialTypeData;\r\n}\r\n\r\n/**\r\n * All cube slot data\r\n */\r\nexport type AllCubeSlotData = Record<CubeSlotId, CubeSlotData>;\r\n\r\n/**\r\n * Legacy cube slot data format (for migration)\r\n */\r\nexport interface LegacyCubeSlotData {\r\n    regular: {\r\n        rarity: Rarity;\r\n        rollCount: number;\r\n        setA: PotentialSet;\r\n        setB: PotentialSet;\r\n    };\r\n    bonus: {\r\n        rarity: Rarity;\r\n        rollCount: number;\r\n        setA: PotentialSet;\r\n        setB: PotentialSet;\r\n    };\r\n}\r\n\r\n// ============================================================================\r\n// EQUIPMENT SLOT TYPES\r\n// ============================================================================\r\n\r\n/**\r\n * Valid equipment slot IDs\r\n */\r\nexport const VALID_EQUIPMENT_SLOTS: EquipmentSlotId[] = ['head', 'cape', 'chest', 'shoulders', 'legs', 'belt', 'gloves', 'boots', 'ring', 'neck', 'eye-accessory'];\r\n\r\n/**\r\n * Equipment slot ID type\r\n */\r\nexport type EquipmentSlotId =\r\n    | 'head' | 'cape' | 'chest' | 'shoulders' | 'legs' | 'belt'\r\n    | 'gloves' | 'boots' | 'ring' | 'neck' | 'eye-accessory';\r\n\r\n/**\r\n * Equipment slot data (attack, main stat, damage amp)\r\n */\r\nexport interface EquipmentSlotData {\r\n    attack: number;\r\n    mainStat: number;\r\n    damageAmp: number;\r\n}\r\n\r\n/**\r\n * All equipment slot data\r\n */\r\nexport type AllEquipmentSlotData = Record<EquipmentSlotId, EquipmentSlotData>;\r\n\r\n/**\r\n * Legacy equipment slot data from localStorage (for migration)\r\n */\r\nexport interface LegacyEquipmentSlotData {\r\n    attack: number;\r\n    mainStat: number;\r\n    damageAmp: number;\r\n}\r\n\r\n// ============================================================================\r\n// COMPARISON EQUIPMENT TYPES\r\n// ============================================================================\r\n\r\n/**\r\n * Stat line interface for comparison items\r\n * Uses StatId type for type-safe stat selection\r\n */\r\nexport interface ComparisonStatLine {\r\n    type: StatId;  // Stat ID from STAT.X.id (e.g., 'attack', 'bossDamage')\r\n    value: number;\r\n}\r\n\r\n/**\r\n * A comparison item for a specific equipment slot\r\n */\r\nexport interface ComparisonItem {\r\n    guid: string;              // UUID v4 unique identifier\r\n    name: string;              // Item name (e.g., \"Item 1\", \"Item 2\")\r\n    attack: number;            // Attack value\r\n    mainStat: number;          // Main stat value (0 for non-accessory slots)\r\n    statLines: ComparisonStatLine[];  // Array of stat lines\r\n    // Job skill level bonuses\r\n    skillLevel1st?: number;     // 1st job skill level bonus\r\n    skillLevel2nd?: number;     // 2nd job skill level bonus\r\n    skillLevel3rd?: number;     // 3rd job skill level bonus\r\n    skillLevel4th?: number;     // 4th job skill level bonus\r\n    skillLevelAll?: number;     // All jobs skill level bonus\r\n}\r\n\r\n/**\r\n * Comparison equipment data structure\r\n * Maps each equipment slot to an array of comparison items\r\n */\r\nexport type ComparisonEquipment = Record<EquipmentSlotId, ComparisonItem[]>;\r\n\r\n/**\r\n * Legacy comparison item format (for migration from comparison-state.js)\r\n */\r\nexport interface LegacyComparisonItem {\r\n    guid: string;\r\n    version: number;\r\n    name: string;\r\n    attack: number;\r\n    stats: Array<{ type: string; value: string }>;  // Old format had values as strings\r\n}\r\n\r\n// ============================================================================\r\n// STORE DATA STRUCTURE\r\n// ============================================================================\r\n\r\n/**\r\n * Complete gear lab data structure\r\n * Designed to be extensible for future Gear Lab features\r\n */\r\nexport interface GearLabData {\r\n    innerAbility: {\r\n        presets: Record<number, InnerAbilityPreset>;\r\n    };\r\n    cubePotential: AllCubeSlotData;\r\n    equipmentSlots: AllEquipmentSlotData;\r\n    comparisonEquipment: ComparisonEquipment;\r\n    // Future: cubeStrategies, scrollOptimization, etc.\r\n}\r\n\r\n/**\r\n * Default potential type data\r\n */\r\nconst DEFAULT_POTENTIAL_TYPE_DATA: PotentialTypeData = {\r\n    rarity: 'normal',\r\n    rollCount: 0,\r\n    setA: { ...EMPTY_POTENTIAL_SET },\r\n    setB: { ...EMPTY_POTENTIAL_SET }\r\n};\r\n\r\n/**\r\n * Default cube slot data\r\n */\r\nconst DEFAULT_CUBE_SLOT_DATA: CubeSlotData = {\r\n    regular: { ...DEFAULT_POTENTIAL_TYPE_DATA },\r\n    bonus: { ...DEFAULT_POTENTIAL_TYPE_DATA }\r\n};\r\n\r\n/**\r\n * Create default cube slot data for all slots\r\n */\r\nconst createDefaultCubeSlotData = (): AllCubeSlotData => ({\r\n    helm: { ...DEFAULT_CUBE_SLOT_DATA },\r\n    cape: { ...DEFAULT_CUBE_SLOT_DATA },\r\n    chest: { ...DEFAULT_CUBE_SLOT_DATA },\r\n    shoulder: { ...DEFAULT_CUBE_SLOT_DATA },\r\n    legs: { ...DEFAULT_CUBE_SLOT_DATA },\r\n    belt: { ...DEFAULT_CUBE_SLOT_DATA },\r\n    gloves: { ...DEFAULT_CUBE_SLOT_DATA },\r\n    boots: { ...DEFAULT_CUBE_SLOT_DATA },\r\n    ring: { ...DEFAULT_CUBE_SLOT_DATA },\r\n    necklace: { ...DEFAULT_CUBE_SLOT_DATA },\r\n    'eye-accessory': { ...DEFAULT_CUBE_SLOT_DATA }\r\n});\r\n\r\n/**\r\n * Create default equipment slot data for all slots\r\n */\r\nconst createDefaultEquipmentSlotData = (): AllEquipmentSlotData => ({\r\n    head: { attack: 0, mainStat: 0, damageAmp: 0 },\r\n    cape: { attack: 0, mainStat: 0, damageAmp: 0 },\r\n    chest: { attack: 0, mainStat: 0, damageAmp: 0 },\r\n    shoulders: { attack: 0, mainStat: 0, damageAmp: 0 },\r\n    legs: { attack: 0, mainStat: 0, damageAmp: 0 },\r\n    belt: { attack: 0, mainStat: 0, damageAmp: 0 },\r\n    gloves: { attack: 0, mainStat: 0, damageAmp: 0 },\r\n    boots: { attack: 0, mainStat: 0, damageAmp: 0 },\r\n    ring: { attack: 0, mainStat: 0, damageAmp: 0 },\r\n    neck: { attack: 0, mainStat: 0, damageAmp: 0 },\r\n    'eye-accessory': { attack: 0, mainStat: 0, damageAmp: 0 }\r\n});\r\n\r\n/**\r\n * Create default comparison equipment data for all slots\r\n */\r\nconst createDefaultComparisonEquipment = (): ComparisonEquipment => ({\r\n    head: [],\r\n    cape: [],\r\n    chest: [],\r\n    shoulders: [],\r\n    legs: [],\r\n    belt: [],\r\n    gloves: [],\r\n    boots: [],\r\n    ring: [],\r\n    neck: [],\r\n    'eye-accessory': []\r\n});\r\n\r\n/**\r\n * Default gear lab data\r\n */\r\nexport const DEFAULT_GEAR_LAB_DATA: GearLabData = {\r\n    innerAbility: {\r\n        presets: {\r\n            1: { id: 1, isEquipped: false, lines: [] },\r\n            2: { id: 2, isEquipped: false, lines: [] },\r\n            3: { id: 3, isEquipped: false, lines: [] },\r\n            4: { id: 4, isEquipped: false, lines: [] },\r\n            5: { id: 5, isEquipped: false, lines: [] },\r\n            6: { id: 6, isEquipped: false, lines: [] },\r\n            7: { id: 7, isEquipped: false, lines: [] },\r\n            8: { id: 8, isEquipped: false, lines: [] },\r\n            9: { id: 9, isEquipped: false, lines: [] },\r\n            10: { id: 10, isEquipped: false, lines: [] },\r\n        }\r\n    },\r\n    cubePotential: createDefaultCubeSlotData(),\r\n    equipmentSlots: createDefaultEquipmentSlotData(),\r\n    comparisonEquipment: createDefaultComparisonEquipment()\r\n};\r\n\r\n// ============================================================================\r\n// LEGACY DATA TYPES (for migration)\r\n// ============================================================================\r\n\r\n/**\r\n * Legacy heroPowerPresets format from localStorage\r\n */\r\nexport interface LegacyHeroPowerPresets {\r\n    [presetId: string]: {\r\n        isEquipped: boolean;\r\n        lines: Array<{\r\n            stat: string;\r\n            value: number;\r\n        }>;\r\n    };\r\n}\r\n\r\n/**\r\n * Legacy cube slot data from localStorage\r\n * Matches the old format stored by state.js\r\n */\r\nexport interface LegacyCubePotentialData {\r\n    [slotId: string]: {\r\n        regular: {\r\n            rarity: Rarity;\r\n            rollCount: number;\r\n            setA: PotentialSet;\r\n            setB: PotentialSet;\r\n        };\r\n        bonus: {\r\n            rarity: Rarity;\r\n            rollCount: number;\r\n            setA: PotentialSet;\r\n            setB: PotentialSet;\r\n        };\r\n    };\r\n}\r\n"],
  "mappings": "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",
  "names": []
}
