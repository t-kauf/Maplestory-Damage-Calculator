{
  "version": 3,
  "sources": ["companions.types.ts"],
  "sourcesContent": ["/**\n * Companion System Type Definitions\n * Shared types for the companions module\n */\n\nimport type { MonsterType } from '@ts/types';\n\n// ============================================================================\n// CORE TYPES\n// ============================================================================\n\n/**\n * Companion-specific class names (PascalCase)\n *\n * NOTE: This is different from the global ClassName type (kebab-case).\n *\n * - ClassName: 'hero', 'dark-knight' (player classes, used throughout app)\n * - CompanionClass: 'Hero', 'DarkKnight' (companion system only)\n *\n * This separation is necessary because the companion data uses PascalCase,\n * while the rest of the application uses kebab-case for class names.\n */\nexport type CompanionClass =\n    | 'Hero' | 'DarkKnight' | 'ArchMageIL' | 'ArchMageFP'\n    | 'BowMaster' | 'Marksman' | 'NightLord' | 'Shadower';\n\nexport type CompanionRarity = 'Normal' | 'Rare' | 'Epic' | 'Unique' | 'Legendary';\nexport type CompanionKey = `${CompanionClass}-${CompanionRarity}`;\n\nexport type CompanionPresetId =\n    | 'preset1' | 'preset2' | 'preset3' | 'preset4' | 'preset5'\n    | 'preset6' | 'preset7' | 'preset8' | 'preset9' | 'preset10'\n    | 'preset11' | 'preset12' | 'preset13' | 'preset14' | 'preset15'\n    | 'preset16' | 'preset17' | 'preset18' | 'preset19' | 'preset20'\n    | 'optimal-boss'\n    | 'optimal-normal';\n\n// Individual companion state (per companionKey)\nexport interface CompanionData {\n    unlocked: boolean;\n    level: number;\n}\n\n// Effects returned from companion-data.ts\nexport interface CompanionEffects {\n    inventoryEffect: Record<string, number>;\n    equipEffect: Record<string, number>;\n    supporterCode?: number;\n    supporterIndex?: number;\n}\n\n// Preset configuration (1 main + 6 subs)\nexport interface CompanionPreset {\n    main: CompanionKey | null;\n    subs: [\n        CompanionKey | null,\n        CompanionKey | null,\n        CompanionKey | null,\n        CompanionKey | null,\n        CompanionKey | null,\n        CompanionKey | null\n    ];\n}\n\n// Complete companion state for LoadoutData\nexport interface CompanionState {\n    companions: Record<CompanionKey, CompanionData>;\n    presets: Record<CompanionPresetId, CompanionPreset>;\n    equippedPresetId: CompanionPresetId;\n    showPresetDpsComparison: boolean;\n    lockedMainCompanion: {\n        'optimal-boss': CompanionKey | null;\n        'optimal-normal': CompanionKey | null;\n    };\n}\n\n// DPS calculation results\nexport interface DpsComparisonResult {\n    baselineDps: number;\n    currentPresetDps: number;\n    newPresetDps: number;\n    currentPresetGain: number;\n    newPresetGain: number;\n    dpsGain: number;\n}\n\nexport interface BothDpsResults {\n    boss: DpsComparisonResult;\n    normal: DpsComparisonResult;\n}\n\n// ============================================================================\n// UI TYPES\n// ============================================================================\n\n// Rarity configuration for visual rendering\nexport interface RarityConfig {\n    color: string;\n    borderColor: string;\n    count: number;\n    classes: CompanionClass[];\n}\n\n// Processed effect for display\nexport interface ProcessedEffect {\n    stat: string;\n    displayName: string;\n    value: number | string;\n    isPercentage: boolean;\n}\n\n// Slot selection info\nexport interface SelectedSlotInfo {\n    presetId: CompanionPresetId;\n    type: 'main' | 'sub';\n    index: number;\n}\n\n// ============================================================================\n// CONSTANTS\n// ============================================================================\n\nexport const COMPANION_CLASSES: CompanionClass[] = [\n    'Hero',\n    'DarkKnight',\n    'ArchMageIL',\n    'ArchMageFP',\n    'BowMaster',\n    'Marksman',\n    'NightLord',\n    'Shadower'\n];\n\nexport const COMPANION_RARITIES: CompanionRarity[] = [\n    'Normal',\n    'Rare',\n    'Epic',\n    'Unique',\n    'Legendary'\n];\n\nexport const CLASS_DISPLAY_NAMES: Record<CompanionClass, string> = {\n    'Hero': 'Hero',\n    'DarkKnight': 'Dark Knight',\n    'ArchMageIL': 'I/L Mage',\n    'ArchMageFP': 'F/P Mage',\n    'BowMaster': 'Bow Master',\n    'Marksman': 'Marksman',\n    'NightLord': 'Night Lord',\n    'Shadower': 'Shadower'\n};\n\nexport const CLASS_ORDER: CompanionClass[] = [\n    'Hero',\n    'DarkKnight',\n    'ArchMageIL',\n    'ArchMageFP',\n    'BowMaster',\n    'Marksman',\n    'NightLord',\n    'Shadower'\n];\n\nexport const RARITY_CONFIG: Record<CompanionRarity, RarityConfig> = {\n    'Normal': {\n        color: '#ffffff',\n        borderColor: '#888888',\n        count: 4,\n        classes: ['Hero', 'ArchMageIL', 'BowMaster', 'Shadower'] // Only first 4 classes\n    },\n    'Rare': {\n        color: '#00ccff',\n        borderColor: '#5d87df',\n        count: 8,\n        classes: CLASS_ORDER // All 8 classes\n    },\n    'Epic': {\n        color: '#bb77ff',\n        borderColor: '#7e5ad4',\n        count: 8,\n        classes: CLASS_ORDER\n    },\n    'Unique': {\n        color: '#ffaa00',\n        borderColor: '#e8a019',\n        count: 8,\n        classes: CLASS_ORDER\n    },\n    'Legendary': {\n        color: '#1fffca',\n        borderColor: '#2dbd7a',\n        count: 8,\n        classes: CLASS_ORDER\n    }\n};\n\n// Default empty preset\nexport const EMPTY_PRESET: CompanionPreset = {\n    main: null,\n    subs: [null, null, null, null, null, null]\n};\n\n// Default companion state\nexport const DEFAULT_COMPANION_STATE: CompanionState = {\n    companions: {} as Record<CompanionKey, CompanionData>,\n    presets: {\n        'preset1': { ...EMPTY_PRESET },\n        'preset2': { ...EMPTY_PRESET },\n        'preset3': { ...EMPTY_PRESET },\n        'preset4': { ...EMPTY_PRESET },\n        'preset5': { ...EMPTY_PRESET },\n        'preset6': { ...EMPTY_PRESET },\n        'preset7': { ...EMPTY_PRESET },\n        'preset8': { ...EMPTY_PRESET },\n        'preset9': { ...EMPTY_PRESET },\n        'preset10': { ...EMPTY_PRESET },\n        'preset11': { ...EMPTY_PRESET },\n        'preset12': { ...EMPTY_PRESET },\n        'preset13': { ...EMPTY_PRESET },\n        'preset14': { ...EMPTY_PRESET },\n        'preset15': { ...EMPTY_PRESET },\n        'preset16': { ...EMPTY_PRESET },\n        'preset17': { ...EMPTY_PRESET },\n        'preset18': { ...EMPTY_PRESET },\n        'preset19': { ...EMPTY_PRESET },\n        'preset20': { ...EMPTY_PRESET },\n        'optimal-boss': { ...EMPTY_PRESET },\n        'optimal-normal': { ...EMPTY_PRESET }\n    },\n    equippedPresetId: 'preset1',\n    showPresetDpsComparison: false,\n    lockedMainCompanion: {\n        'optimal-boss': null,\n        'optimal-normal': null\n    }\n};\n\n/**\n * Mapping from companion effect stat keys to STAT.X.id format\n *\n * Companion data uses mixed PascalCase/camelCase keys (e.g., 'Attack', 'bossDamage')\n * while the STAT constant uses camelCase IDs (e.g., 'attack', 'bossDamage')\n *\n * This mapping enables proper routing to StatCalculationService methods.\n *\n * Keys not mapped:\n * - 'MaxHp', 'MaxHpR': Not part of base stats (ignored)\n * - 'HitChance', 'damageInCc': Not part of base stats (ignored)\n *\n * Generated from companion-data.ts stat keys and STAT constants\n */\nexport const COMPANION_STAT_KEY_TO_STAT_ID: Record<string, string> = {\n    // Core stats\n    'Attack': 'attack',\n    'MainStat': 'mainStat',\n\n    // Damage stats\n    'damage': 'damage',\n    'bossDamage': 'bossDamage',\n    'normalDamage': 'normalDamage',\n    'minDamage': 'minDamage',\n    'maxDamage': 'maxDamage',\n\n    // Combat stats\n    'critRate': 'critRate',\n    'attackSpeed': 'attackSpeed',\n};\n"],
  "mappings": "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",
  "names": []
}
