{
  "version": 3,
  "sources": ["gear-lab-page.ts"],
  "sourcesContent": ["/**\r\n * Gear Lab Page\r\n * Orchestration module for the Gear Lab page\r\n * Follows the pattern established by loadout-page.ts\r\n */\r\n\r\nimport { BasePage } from './base-page.js';\r\nimport { gearLabStore } from '@ts/store/gear-lab-store.js';\r\nimport { initializeInnerAbilityUI, loadInnerAbilityFromStore } from '@ts/page/inner-ability/inner-ability-ui.js';\r\nimport { initializeArtifactPotential } from './artifact-potential/artifact-potential-ui.js';\r\nimport { initializeCubePotentialUI } from '@ts/page/cube-potential/cube-potential-ui.js';\r\nimport { initializeScrollingUI } from '@ts/page/scrolling/scrolling-ui.js';\r\nimport { initializeComparisonUI, checkPendingSlotNavigation } from '@ts/page/comparison/comparison-ui.js';\r\n\r\n\r\nclass GearLabPage extends BasePage {\r\n    private initialized: boolean = false;\r\n\r\n    constructor() {\r\n        super('optimization', 'item-comparison');\r\n    }\r\n\r\n\r\n    onPageVisible(tabName: string | null): void {\r\n        // Call parent to handle tab switching\r\n        super.onPageVisible(tabName);\r\n\r\n        // Initialize page components on first visit\r\n        if (!this.initialized) {\r\n            this.initializeComponents();\r\n            this.initialized = true;\r\n        }\r\n\r\n        // Check for pending slot navigation when item-comparison tab is shown\r\n        // This must happen after initialization\r\n        if (tabName === 'item-comparison') {\r\n            checkPendingSlotNavigation();\r\n        }\r\n    }\r\n\r\n    private async initializeComponents(): Promise<void> {\r\n        // Initialize the gearLabStore (migrates from legacy data if needed)\r\n        await gearLabStore.initialize();\r\n\r\n        // Initialize the Inner Ability UI\r\n        initializeInnerAbilityUI();\r\n        initializeArtifactPotential();\r\n        initializeCubePotentialUI();\r\n        initializeScrollingUI();\r\n\r\n        // Initialize the Comparison Equipment UI\r\n        initializeComparisonUI();\r\n\r\n        // Load saved presets from store\r\n        loadInnerAbilityFromStore();\r\n    }\r\n}\r\n\r\n// Export singleton instance for use by router and window\r\nexport const gearLabPage = new GearLabPage();\r\n\r\n// Expose switchToTab method to window for HTML onclick handlers\r\nwindow.gearLabPageSwitchToTab = (tabName: string) => gearLabPage.switchToTab(tabName);\r\n\r\n// Declare the window function for TypeScript\r\ndeclare global {\r\n    interface Window {\r\n        gearLabPageSwitchToTab: (tabName: string) => void;\r\n    }\r\n}"],
  "mappings": "AAMA,SAAS,gBAAgB;AACzB,SAAS,oBAAoB;AAC7B,SAAS,0BAA0B,iCAAiC;AACpE,SAAS,mCAAmC;AAC5C,SAAS,iCAAiC;AAC1C,SAAS,6BAA6B;AACtC,SAAS,wBAAwB,kCAAkC;AAGnE,MAAM,oBAAoB,SAAS;AAAA,EAG/B,cAAc;AACV,UAAM,gBAAgB,iBAAiB;AAH3C,SAAQ,cAAuB;AAAA,EAI/B;AAAA,EAGA,cAAc,SAA8B;AAExC,UAAM,cAAc,OAAO;AAG3B,QAAI,CAAC,KAAK,aAAa;AACnB,WAAK,qBAAqB;AAC1B,WAAK,cAAc;AAAA,IACvB;AAIA,QAAI,YAAY,mBAAmB;AAC/B,iCAA2B;AAAA,IAC/B;AAAA,EACJ;AAAA,EAEA,MAAc,uBAAsC;AAEhD,UAAM,aAAa,WAAW;AAG9B,6BAAyB;AACzB,gCAA4B;AAC5B,8BAA0B;AAC1B,0BAAsB;AAGtB,2BAAuB;AAGvB,8BAA0B;AAAA,EAC9B;AACJ;AAGO,MAAM,cAAc,IAAI,YAAY;AAG3C,OAAO,yBAAyB,CAAC,YAAoB,YAAY,YAAY,OAAO;",
  "names": []
}
