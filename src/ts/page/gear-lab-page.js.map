{
  "version": 3,
  "sources": ["gear-lab-page.ts"],
  "sourcesContent": ["/**\n * Gear Lab Page\n * Orchestration module for the Gear Lab page\n * Follows the pattern established by loadout-page.ts\n */\n\nimport { BasePage } from './base-page.js';\nimport { gearLabStore } from '@ts/store/gear-lab-store.js';\nimport { initializeInnerAbilityUI, loadInnerAbilityFromStore } from '@ts/page/inner-ability/inner-ability-ui.js';\nimport { initializeArtifactPotential } from './artifact-potential/artifact-potential-ui.js';\nimport { initializeCubePotentialUI } from '@ts/page/cube-potential/cube-potential-ui.js';\nimport { initializeScrollingUI } from '@ts/page/scrolling/scrolling-ui.js';\nimport { initializeComparisonUI, checkPendingSlotNavigation } from '@ts/page/comparison/comparison-ui.js';\n\n\nclass GearLabPage extends BasePage {\n    private initialized: boolean = false;\n\n    constructor() {\n        super('optimization', 'item-comparison');\n    }\n\n\n    onPageVisible(tabName: string | null): void {\n        // Call parent to handle tab switching\n        super.onPageVisible(tabName);\n\n        // Initialize page components on first visit\n        if (!this.initialized) {\n            this.initializeComponents();\n            this.initialized = true;\n        }\n\n        // Check for pending slot navigation when item-comparison tab is shown\n        // This must happen after initialization\n        if (tabName === 'item-comparison') {\n            checkPendingSlotNavigation();\n        }\n    }\n\n    private async initializeComponents(): Promise<void> {\n        // Initialize the gearLabStore (migrates from legacy data if needed)\n        await gearLabStore.initialize();\n\n        // Initialize the Inner Ability UI\n        initializeInnerAbilityUI();\n        initializeArtifactPotential();\n        initializeCubePotentialUI();\n        initializeScrollingUI();\n\n        // Initialize the Comparison Equipment UI\n        initializeComparisonUI();\n\n        // Load saved presets from store\n        loadInnerAbilityFromStore();\n    }\n}\n\n// Export singleton instance for use by router and window\nexport const gearLabPage = new GearLabPage();\n\n// Expose switchToTab method to window for HTML onclick handlers\nwindow.gearLabPageSwitchToTab = (tabName: string) => gearLabPage.switchToTab(tabName);\n\n// Declare the window function for TypeScript\ndeclare global {\n    interface Window {\n        gearLabPageSwitchToTab: (tabName: string) => void;\n    }\n}"],
  "mappings": "AAMA,SAAS,gBAAgB;AACzB,SAAS,oBAAoB;AAC7B,SAAS,0BAA0B,iCAAiC;AACpE,SAAS,mCAAmC;AAC5C,SAAS,iCAAiC;AAC1C,SAAS,6BAA6B;AACtC,SAAS,wBAAwB,kCAAkC;AAGnE,MAAM,oBAAoB,SAAS;AAAA,EAG/B,cAAc;AACV,UAAM,gBAAgB,iBAAiB;AAH3C,SAAQ,cAAuB;AAAA,EAI/B;AAAA,EAGA,cAAc,SAA8B;AAExC,UAAM,cAAc,OAAO;AAG3B,QAAI,CAAC,KAAK,aAAa;AACnB,WAAK,qBAAqB;AAC1B,WAAK,cAAc;AAAA,IACvB;AAIA,QAAI,YAAY,mBAAmB;AAC/B,iCAA2B;AAAA,IAC/B;AAAA,EACJ;AAAA,EAEA,MAAc,uBAAsC;AAEhD,UAAM,aAAa,WAAW;AAG9B,6BAAyB;AACzB,gCAA4B;AAC5B,8BAA0B;AAC1B,0BAAsB;AAGtB,2BAAuB;AAGvB,8BAA0B;AAAA,EAC9B;AACJ;AAGO,MAAM,cAAc,IAAI,YAAY;AAG3C,OAAO,yBAAyB,CAAC,YAAoB,YAAY,YAAY,OAAO;",
  "names": []
}
