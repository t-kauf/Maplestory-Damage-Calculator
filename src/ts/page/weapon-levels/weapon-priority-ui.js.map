{
  "version": 3,
  "sources": ["weapon-priority-ui.ts"],
  "sourcesContent": ["/**\n * Weapon Upgrade Priority UI - DOM manipulation for upgrade priority features\n * Handles the Upgrade Priority sub-tab and currency calculator\n */\n\nimport {\n    calculateWeaponAttacks,\n    getMaxLevelForStars,\n    calculateUpgradePriorityChain,\n    calculateUpgradeGain,\n    getUpgradeCost\n} from './weapons';\nimport type {\n    WeaponRarity,\n    WeaponTier,\n    StarRating,\n    UpgradePriorityItem,\n    WeaponState,\n    CurrencyUpgradeResult,\n    WeaponLevel,\n    WeaponKey\n} from '@ts/types';\nimport { rarities, tiers } from '@ts/types';\nimport { MONSTER_TYPE, WEAPON_RARITY, WEAPON_TIER, EFFICIENCY_THRESHOLD } from '@ts/types/constants';\nimport { loadoutStore } from '@ts/store/loadout.store';\nimport { StatCalculationService } from '@ts/services/stat-calculation-service';\n\n// Type for the updateWeaponBonuses callback function\ntype UpdateWeaponBonusesFn = (calculateDamage?: boolean) => void;\n\n// Extend Window interface to include functions exported from weapon-ui.ts\ndeclare global {\n    interface Window {\n        updateWeaponBonuses: UpdateWeaponBonusesFn;\n    }\n}\n\n// Override calculateCurrencyUpgrades - use Object.defineProperty to bypass type checking\nObject.defineProperty(window, 'calculateCurrencyUpgrades', {\n    value: async () => {\n        await calculateCurrencyUpgradesUI(window.updateWeaponBonuses);\n    },\n    writable: true,\n    enumerable: true,\n    configurable: true\n});\n\n// =======================\n// Upgrade Priority UI HTML Generation\n// =======================\n\n/**\n * Generate the HTML for the upgrade priority sub-tab\n */\nfunction generateUpgradePriorityHTML(): string {\n    return `\n        <!-- Upgrade Priority Chain -->\n        <div id=\"upgrade-priority-container\" class=\"wl-priority-container\">\n            <div class=\"wl-priority-header\">\n                Next 100 Upgrades Priority (Best Inventory Attack Gain)\n            </div>\n            <div id=\"upgrade-priority-chain\" class=\"wl-priority-chain\">\n                <!-- Priority chain will be generated by JavaScript -->\n            </div>\n\n            <!-- Currency Calculator -->\n            <div class=\"wl-currency-section\">\n                <div class=\"wl-currency-header\">\n                    Enter your current upgrade currency to see your optimal target weapon levels\n                </div>\n                <div class=\"wl-currency-input-group\">\n                    <label class=\"wl-currency-label\" for=\"upgrade-currency-input\">Upgrade Currency</label>\n                    <input type=\"number\" id=\"upgrade-currency-input\" class=\"wl-currency-input\"\n                           placeholder=\"Enter amount\" oninput=\"calculateCurrencyUpgrades()\">\n                </div>\n                <div id=\"currency-upgrade-results\" class=\"wl-currency-results\">\n                    <div class=\"wl-currency-metrics\">\n                        <div class=\"wl-currency-metric\">\n                            <span class=\"wl-currency-metric-label\">Total Attack % Gain</span>\n                            <div class=\"wl-currency-metric-value\" id=\"currency-attack-gain\">0%</div>\n                        </div>\n                        <div class=\"wl-currency-metric\">\n                            <span class=\"wl-currency-metric-label\">DPS Gain %</span>\n                            <div class=\"wl-currency-metric-value\" id=\"currency-dps-gain\">0%</div>\n                        </div>\n                    </div>\n                    <div class=\"wl-currency-metric-label\" style=\"text-align: center; margin-bottom: 8px;\">Upgrade Path:</div>\n                    <div id=\"currency-upgrade-path\" class=\"wl-currency-path\">\n                        <!-- Path will be generated -->\n                    </div>\n                    <button id=\"apply-upgrade-path-btn\" class=\"wl-apply-button\">\n                        Apply Upgrade Path\n                    </button>\n                </div>\n            </div>\n        </div>\n    `;\n}\n\n/**\n * Initialize the weapon priority UI - generates HTML and attaches event listeners\n * This should be called after the DOM is fully populated\n */\nexport function initializeWeaponPriorityUI(): void {\n    const container = document.getElementById('weapon-levels-upgrade-priority');\n    if (!container) return;\n\n    // Generate and populate the upgrade priority HTML\n    container.innerHTML = generateUpgradePriorityHTML();\n    // Priority UI is mostly event-driven via oninput handlers in HTML\n    // Initial priority chain will be updated when weapons are loaded\n}\n\n// =======================\n// Upgrade Priority Chain\n// =======================\n\n/**\n * Update the upgrade priority chain display\n */\nexport function updateUpgradePriorityChain(): void {\n    const priorityChain = document.getElementById('upgrade-priority-chain');\n    if (!priorityChain) return;\n\n    // Collect current weapon states\n    const weaponStates: Array<WeaponState> = [];\n\n    rarities.forEach(rarity => {\n        tiers.forEach(tier => {\n            const levelInput = document.getElementById(`level-${rarity}-${tier}`) as HTMLInputElement;\n            const starsInput = document.getElementById(`stars-${rarity}-${tier}`) as HTMLInputElement;\n            if (levelInput) {\n                const level = parseInt(levelInput.value) || 0;\n                const stars: StarRating = (starsInput?.value !== undefined && starsInput?.value !== ''\n                    ? parseInt(starsInput.value)\n                    : 5) as StarRating;\n                const maxLevel = getMaxLevelForStars(stars);\n\n                // Only include weapons that can be upgraded (level > 0 and not at max)\n                if (level > 0 && level <= maxLevel) {\n                    // Check if this weapon is equipped\n                    const equippedDisplay = document.getElementById(`equipped-display-${rarity}-${tier}`);\n                    const isEquipped = equippedDisplay && equippedDisplay.style.display !== 'none';\n\n                    weaponStates.push({\n                        rarity,\n                        tier,\n                        level,\n                        stars,\n                        maxLevel,\n                        isEquipped\n                    });\n                }\n            }\n        });\n    });\n\n    if (weaponStates.length === 0) {\n        priorityChain.innerHTML = '<span style=\"color: var(--text-secondary);\">No weapons available to upgrade</span>';\n        return;\n    }\n\n    // Calculate priority chain using logic function\n    const result = calculateUpgradePriorityChain(weaponStates, 100);\n\n    // Build HTML for display\n    let html = '';\n    result.groupedUpgrades.forEach((group, index) => {\n        const tierUpper = group.tier.toUpperCase();\n        const rarityFirstLetter = group.rarity.charAt(0).toUpperCase();\n\n        html += `<span class=\"wl-priority-item\" data-rarity=\"${group.rarity}\">${tierUpper} ${rarityFirstLetter} x${group.count}</span>`;\n\n        if (index < result.groupedUpgrades.length - 1) {\n            html += ' <span class=\"wl-priority-divider\">\u2192</span> ';\n        }\n    });\n\n    priorityChain.innerHTML = html;\n}\n\n/**\n * Update upgrade color indicators based on efficiency\n */\nexport function updateWeaponUpgradeColors(): void {\n    // Collect all gainPer1k values\n    const gainValues: number[] = [];\n    rarities.forEach(rarity => {\n        tiers.forEach(tier => {\n            const upgradeGainDisplay = document.getElementById(`upgrade-gain-${rarity}-${tier}`);\n            if (upgradeGainDisplay && upgradeGainDisplay.dataset.gainPer1k) {\n                const gainPer1k = parseFloat(upgradeGainDisplay.dataset.gainPer1k);\n                if (!isNaN(gainPer1k) && gainPer1k > 0) {\n                    gainValues.push(gainPer1k);\n                }\n            }\n        });\n    });\n\n    if (gainValues.length === 0) return;\n\n    // Find min and max\n    const minGain = Math.min(...gainValues);\n    const maxGain = Math.max(...gainValues);\n\n    // Apply CSS classes to each upgrade display\n    rarities.forEach(rarity => {\n        tiers.forEach(tier => {\n            const upgradeGainDisplay = document.getElementById(`upgrade-gain-${rarity}-${tier}`);\n            if (upgradeGainDisplay && upgradeGainDisplay.dataset.gainPer1k) {\n                const gainPer1k = parseFloat(upgradeGainDisplay.dataset.gainPer1k);\n                if (!isNaN(gainPer1k) && gainPer1k > 0) {\n                    // Normalize value between 0 (min) and 1 (max)\n                    const normalized = maxGain === minGain ? 1 : (gainPer1k - minGain) / (maxGain - minGain);\n\n                    // Apply CSS class based on efficiency tier\n                    upgradeGainDisplay.classList.remove('high', 'medium', 'low');\n                    if (normalized > EFFICIENCY_THRESHOLD.HIGH) {\n                        upgradeGainDisplay.classList.add('high');\n                    } else if (normalized > EFFICIENCY_THRESHOLD.MEDIUM) {\n                        upgradeGainDisplay.classList.add('medium');\n                    } else {\n                        upgradeGainDisplay.classList.add('low');\n                    }\n                }\n            }\n        });\n    });\n}\n\n// =======================\n// Currency Upgrade Calculator\n// =======================\n\n/**\n * Calculate and display currency upgrade options\n * This is the UI layer wrapper that calls the pure logic function\n */\nexport async function calculateCurrencyUpgradesUI(updateWeaponBonuses: UpdateWeaponBonusesFn): Promise<void> {\n    const currencyInput = document.getElementById('upgrade-currency-input') as HTMLInputElement;\n    const resultsDiv = document.getElementById('currency-upgrade-results');\n    const attackGainDisplay = document.getElementById('currency-attack-gain');\n    const dpsGainDisplay = document.getElementById('currency-dps-gain');\n    const pathDisplay = document.getElementById('currency-upgrade-path');\n\n    if (!currencyInput || !resultsDiv) return;\n\n    const currency = parseFloat(currencyInput.value) || 0;\n\n    if (currency <= 0) {\n        resultsDiv.classList.remove('visible');\n        return;\n    }\n\n    // Collect current weapon states\n    const weaponStates: Array<WeaponState> = [];\n\n    rarities.forEach(rarity => {\n        tiers.forEach(tier => {\n            const levelInput = document.getElementById(`level-${rarity}-${tier}`) as HTMLInputElement;\n            const starsInput = document.getElementById(`stars-${rarity}-${tier}`) as HTMLInputElement;\n            if (levelInput) {\n                const level = parseInt(levelInput.value) || 0;\n                const stars: StarRating = (starsInput?.value !== undefined && starsInput?.value !== ''\n                    ? parseInt(starsInput.value)\n                    : 5) as StarRating;\n                const maxLevel = getMaxLevelForStars(stars);\n\n                if (level > 0 && level <= maxLevel) {\n                    // Check if this weapon is equipped\n                    const equippedDisplay = document.getElementById(`equipped-display-${rarity}-${tier}`);\n                    const isEquipped = equippedDisplay && equippedDisplay.style.display !== 'none';\n\n                    weaponStates.push({\n                        rarity,\n                        tier,\n                        level,\n                        stars,\n                        maxLevel,\n                        isEquipped\n                    });\n                }\n            }\n        });\n    });\n\n    if (weaponStates.length === 0) {\n        resultsDiv.classList.remove('visible');\n        return;\n    }\n\n    // Calculate initial DPS using StatCalculationService\n    const baseStats = loadoutStore.getBaseStats();\n    const initialStatService = new StatCalculationService(baseStats);\n    const initialDPS = initialStatService.computeDPS(MONSTER_TYPE.BOSS);\n\n    // Call the pure logic function (dynamic import to avoid circular type inference)\n    const { calculateCurrencyUpgrades: calculateCurrencyUpgradesPure } = await import('./weapons.js');\n    const result = calculateCurrencyUpgradesPure(weaponStates, currency);\n\n    if (!result) {\n        // If no upgrades could be bought with the entered currency, show a friendly message\n        resultsDiv.classList.add('visible');\n        if (attackGainDisplay) attackGainDisplay.textContent = `+0.00%`;\n        if (dpsGainDisplay) dpsGainDisplay.textContent = `+0.00%`;\n        if (pathDisplay) pathDisplay.innerHTML = `<span class=\"wl-currency-path-divider\">Most impactful upgrade can't be afforded \u2014 save up!</span>`;\n        // Hide the apply button since there is no path to apply\n        const applyUpgradesBtn = document.getElementById('apply-upgrade-path-btn');\n        if (applyUpgradesBtn) applyUpgradesBtn.style.display = 'none';\n        return;\n    }\n\n    // Calculate weapon attack bonus with simulated upgraded levels\n    const newWeaponAttackBonus = calculateTotalWeaponAttackBonusFromLevels(result.weaponLevels);\n\n    // Apply the weapon attack bonus difference to attack\n    const baseAttackWithoutWeaponBonus = baseStats.ATTACK / (1 + initialStatService.weaponAttackBonus / 100);\n    const newStats = { ...baseStats, attack: baseAttackWithoutWeaponBonus * (1 + newWeaponAttackBonus / 100) };\n\n    // Pass 0 for weaponAttackBonus since we've manually applied it to the attack stat\n    const newStatService = new StatCalculationService(newStats, newWeaponAttackBonus);\n    const newDPS = newStatService.computeDPS(MONSTER_TYPE.BOSS);\n    const dpsGainPct = ((newDPS - initialDPS) / initialDPS * 100);\n    result.dpsGainPct = dpsGainPct;\n\n    // Collate all upgrades by weapon type (not just consecutive)\n    const upgradeCounts: Record<string, UpgradePriorityItem & { count: number }> = {};\n\n    result.upgradeSequence.forEach(upgrade => {\n        const key = `${upgrade.rarity}-${upgrade.tier}`;\n        if (!upgradeCounts[key]) {\n            upgradeCounts[key] = {\n                ...upgrade,\n                count: 0\n            };\n        }\n        upgradeCounts[key].count++;\n    });\n\n    // Convert to array and sort by count (descending) then by rarity/tier\n    const collatedUpgrades = Object.values(upgradeCounts).sort((a, b) => {\n        if (b.count !== a.count) return b.count - a.count;\n        // Secondary sort: by rarity index then tier\n        const rarityOrder: Record<string, number> = {\n            [WEAPON_RARITY.NORMAL]: 0,\n            [WEAPON_RARITY.RARE]: 1,\n            [WEAPON_RARITY.EPIC]: 2,\n            [WEAPON_RARITY.UNIQUE]: 3,\n            [WEAPON_RARITY.LEGENDARY]: 4,\n            [WEAPON_RARITY.MYSTIC]: 5,\n            [WEAPON_RARITY.ANCIENT]: 6\n        };\n        if (rarityOrder[a.rarity] !== rarityOrder[b.rarity]) {\n            return rarityOrder[a.rarity] - rarityOrder[b.rarity];\n        }\n        const tierOrder: Record<string, number> = {\n            [WEAPON_TIER.T4]: 0,\n            [WEAPON_TIER.T3]: 1,\n            [WEAPON_TIER.T2]: 2,\n            [WEAPON_TIER.T1]: 3\n        };\n        return tierOrder[a.tier] - tierOrder[b.tier];\n    });\n\n    // Build path HTML (horizontal list)\n    let pathHTML = '';\n    collatedUpgrades.forEach((group, index) => {\n        const tierUpper = group.tier.toUpperCase();\n        const rarityFirstLetter = group.rarity.charAt(0).toUpperCase();\n        const weaponKey = `${group.rarity}-${group.tier}`;\n        pathHTML += `<span class=\"wl-currency-path-item\" data-rarity=\"${group.rarity}\">${tierUpper} ${rarityFirstLetter} x${group.count} (${result.weaponLevels[weaponKey]})</span>`;\n\n        if (index < collatedUpgrades.length - 1) {\n            pathHTML += ' <span class=\"wl-currency-path-divider\">,</span> ';\n        }\n    });\n\n    // Display results\n    if (attackGainDisplay) attackGainDisplay.textContent = `+${result.totalAttackGain.toFixed(2)}%`;\n    if (dpsGainDisplay) dpsGainDisplay.textContent = `+${result.dpsGainPct.toFixed(2)}%`;\n    if (pathDisplay) pathDisplay.innerHTML = pathHTML;\n    resultsDiv.classList.add('visible');\n\n    const applyUpgradesBtn = document.getElementById('apply-upgrade-path-btn');\n\n    // Ensure the apply button is visible when there is a valid path\n    if (applyUpgradesBtn) {\n        applyUpgradesBtn.style.display = '';\n\n        // Update weapon levels after user has leveled weapons accordingly\n        applyUpgradesBtn.onclick = () => {\n            for (const key in result.weaponLevels) {\n                const levelInput = document.getElementById(`level-${key}`) as HTMLInputElement;\n                if (levelInput) {\n                    levelInput.value = result.weaponLevels[key].toString();\n                }\n            }\n\n            // Reset currency input\n            if (currencyInput) currencyInput.value = '0';\n\n            // Update/save stats\n            calculateCurrencyUpgradesUI(updateWeaponBonuses);\n            // Save all weapon levels via store\n            for (const key in result.weaponLevels) {\n                const level = result.weaponLevels[key];\n                const [rarity, tier] = key.split('-') as [WeaponRarity, WeaponTier];\n                loadoutStore.updateWeapon(key, { level });\n            }\n            updateWeaponBonuses();\n        };\n    }\n}\n\n/**\n * Calculate currency upgrade optimization\n * Simulates spending a given amount of currency on the most efficient upgrades\n * @param weaponStates - Array of current weapon states\n * @param currency - Available currency (shards)\n * @returns Currency upgrade calculation result\n */\nexport function calculateCurrencyUpgrades(\n    weaponStates: WeaponState[],\n    currency: number\n): CurrencyUpgradeResult | null {\n    if (!weaponStates.length || currency <= 0) {\n        return null;\n    }\n\n    const upgradeSequence: UpgradePriorityItem[] = [];\n    const weaponLevels: Record<string, WeaponLevel> = {};\n    const weaponMaxLevels: Record<string, WeaponLevel> = {};\n    const weaponEquippedStates: Record<string, boolean> = {};\n    let remainingCurrency = currency;\n\n    // Initialize current levels, max levels, and equipped states\n    weaponStates.forEach(ws => {\n        const key = `${ws.rarity}-${ws.tier}`;\n        weaponLevels[key] = ws.level;\n        weaponMaxLevels[key] = ws.maxLevel;\n        weaponEquippedStates[key] = ws.isEquipped ?? false;\n    });\n\n    // Keep upgrading until we run out of currency\n    while (remainingCurrency > 0) {\n        let bestWeapon: UpgradePriorityItem | null = null;\n        let bestEfficiency = 0;\n\n        // Find the most efficient upgrade based on 1k shard potential\n        weaponStates.forEach(ws => {\n            const key = `${ws.rarity}-${ws.tier}` as WeaponKey;\n            const currentLevel = weaponLevels[key];\n            const maxLevel = weaponMaxLevels[key];\n            const isEquipped = weaponEquippedStates[key];\n\n            if (currentLevel >= maxLevel) return;\n\n            // Calculate multi-level efficiency (what 1k shards gets you from current level)\n            const upgradeGain = calculateUpgradeGain(\n                ws.rarity,\n                ws.tier,\n                currentLevel,\n                ws.stars,\n                1000,\n                isEquipped\n            );\n\n            let efficiency: number;\n            if (upgradeGain.isUnaffordable) {\n                // Normalize to per 1k when single level costs more than 1k\n                const inventoryEfficiency = (upgradeGain.attackGain / upgradeGain.singleLevelCost) * 1000;\n                const equippedEfficiency = (upgradeGain.equippedAttackGain / upgradeGain.singleLevelCost) * 1000;\n                efficiency = inventoryEfficiency + equippedEfficiency;\n            } else {\n                efficiency = upgradeGain.attackGain + upgradeGain.equippedAttackGain; // Already per 1k\n            }\n\n            if (efficiency > bestEfficiency) {\n                bestEfficiency = efficiency;\n                bestWeapon = {\n                    rarity: ws.rarity,\n                    tier: ws.tier,\n                    key,\n                    cost: getUpgradeCost(ws.rarity, ws.tier, currentLevel)\n                };\n            }\n        });\n\n        // If no weapon can be upgraded, stop\n        if (!bestWeapon) break;\n\n        // Check if we can afford this upgrade\n        if (bestWeapon.cost > remainingCurrency) break;\n\n        // Apply this upgrade (1 level at a time)\n        upgradeSequence.push(bestWeapon);\n        weaponLevels[bestWeapon.key]++;\n        remainingCurrency -= bestWeapon.cost;\n    }\n\n    if (upgradeSequence.length === 0) {\n        return null;\n    }\n\n    // Calculate total attack gain\n    let totalAttackGain = 0;\n    upgradeSequence.forEach(upgrade => {\n        const prevLevel = weaponLevels[upgrade.key] - 1;\n        const currentAttack = calculateWeaponAttacks(upgrade.rarity, upgrade.tier, prevLevel).inventoryAttack;\n        const nextAttack = calculateWeaponAttacks(upgrade.rarity, upgrade.tier, weaponLevels[upgrade.key]).inventoryAttack;\n        totalAttackGain += nextAttack - currentAttack;\n    });\n\n    return {\n        totalAttackGain,\n        dpsGainPct: 0, // To be calculated by UI layer\n        upgradeSequence,\n        weaponLevels,\n        remainingCurrency\n    };\n}\n\n/**\n * Helper function to calculate weapon attack bonus from weapon levels\n * @param weaponLevels - Object mapping rarity-tier keys to levels\n * @returns Total weapon attack bonus\n */\nfunction calculateTotalWeaponAttackBonusFromLevels(weaponLevels: Record<string, number>): number {\n    let totalBonus = 0;\n    let equippedBonus = 0;\n\n    rarities.forEach(rarity => {\n        tiers.forEach(tier => {\n            const key = `${rarity}-${tier}`;\n            const level = weaponLevels[key] || 0;\n\n            if (level === 0) return;\n\n            const { inventoryAttack, equippedAttack } = calculateWeaponAttacks(rarity, tier, level);\n            totalBonus += inventoryAttack;\n\n            // Check if this weapon is equipped\n            const equippedDisplay = document.getElementById(`equipped-label-${rarity}-${tier}`);\n            if (equippedDisplay && (equippedDisplay as HTMLElement).style.display !== 'none') {\n                equippedBonus = equippedAttack;\n            }\n        });\n    });\n\n    return totalBonus + equippedBonus;\n}"],
  "mappings": "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",
  "names": ["applyUpgradesBtn"]
}
