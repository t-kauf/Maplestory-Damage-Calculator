{
  "version": 3,
  "sources": ["inner-ability-ui.ts"],
  "sourcesContent": ["/**\r\n * Inner Ability UI Generation and Event Handling\r\n *\r\n * This file handles all HTML generation and UI event handling for the inner ability tab.\r\n * Merges functionality from the old presets-ui.js file.\r\n */\r\n\r\nimport { innerAbilityStats, INNER_ABILITY_STAT_NAMES } from '@data/inner-ability-data.js';\r\nimport { gearLabStore } from '@ts/store/gear-lab-store.js';\r\nimport { formatNumber } from '@utils/formatters.js';\r\nimport { StatCalculationService } from '@ts/services/stat-calculation-service.js';\r\nimport type { InnerAbilityLine } from '@ts/types/page/gear-lab/gear-lab.types.js';\r\nimport type { InnerAbilityTabName, TableSortState } from '@ts/page/inner-ability/inner-ability.types.js';\r\nimport type { BaseStats } from '@ts/types/loadout.js';\r\nimport {\r\n    calculatePresetComparisons,\r\n    calculateTheoreticalBest,\r\n    calculateBestCombinations,\r\n    getBaselineStats,\r\n    INNER_ABILITY_DISPLAY_NAME_TO_ID\r\n} from '@ts/page/inner-ability/inner-ability.js';\r\nimport { loadoutStore } from '@ts/store/loadout.store';\r\nimport { debounce } from '@ts/utils/event-emitter';\r\n\r\n// ============================================================================\r\n// STATE\r\n// ============================================================================\r\n\r\nlet presetSortState: TableSortState['preset'] = { column: 2, ascending: false };\r\nlet theoreticalSortState: TableSortState['theoretical'] = { column: 2, ascending: false };\r\n\r\n/**\r\n * Convert stat ID to display name for theoretical best results\r\n * If the stat is already a display name (e.g., \"Meso Drop\"), return as-is\r\n * If the stat is an ID (e.g., \"bossDamage\"), convert to display name\r\n */\r\nfunction getStatDisplayName(statIdOrName: string): string {\r\n    // Check if this is a known stat ID\r\n    if (INNER_ABILITY_STAT_NAMES[statIdOrName]) {\r\n        return INNER_ABILITY_STAT_NAMES[statIdOrName];\r\n    }\r\n    // Otherwise it's already a display name, return as-is\r\n    return statIdOrName;\r\n}\r\n\r\n/**\r\n * Theoretical Best roll visibility filters\r\n */\r\ninterface TheoreticalRollFilters {\r\n    min: boolean;\r\n    mid: boolean;\r\n    max: boolean;\r\n}\r\n\r\n// Theoretical Best roll visibility toggles\r\nlet theoreticalRollFilters: TheoreticalRollFilters = {\r\n    min: true,\r\n    mid: true,\r\n    max: true\r\n};\r\n\r\n// ============================================================================\r\n// HTML GENERATION\r\n// ============================================================================\r\n\r\n/**\r\n * Generate HTML for a single preset line input\r\n */\r\nfunction generatePresetLineHTML(presetId: number, lineIndex: number): string {\r\n    const options = innerAbilityStats.map(stat =>\r\n        `<option value=\"${stat}\">${stat}</option>`\r\n    ).join('');\r\n\r\n    return `\r\n        <div class=\"ia-line-card\">\r\n            <div class=\"ia-line-number\">Line ${lineIndex + 1}</div>\r\n            <label>Stat</label>\r\n            <select id=\"preset-${presetId}-line-${lineIndex + 1}-stat\" onchange=\"handlePresetLineChange(${presetId}, ${lineIndex})\">\r\n                <option value=\"\">-- Select Stat --</option>\r\n                ${options}\r\n            </select>\r\n            <label>Value</label>\r\n            <input type=\"number\" step=\"0.1\" id=\"preset-${presetId}-line-${lineIndex + 1}-value\" placeholder=\"0\" onchange=\"handlePresetLineChange(${presetId}, ${lineIndex})\">\r\n        </div>\r\n    `;\r\n}\r\n\r\n/**\r\n * Generate HTML for a single preset content card\r\n */\r\nfunction generatePresetContentHTML(presetId: number, isActive = false): string {\r\n    const activeClass = isActive ? 'active' : '';\r\n\r\n    const linesHTML = Array.from({ length: 6 }, (_, i) =>\r\n        generatePresetLineHTML(presetId, i)\r\n    ).join('');\r\n\r\n    return `\r\n        <div class=\"ia-preset-content ${activeClass}\" id=\"preset-${presetId}-content\">\r\n            <div class=\"ia-preset-card\">\r\n                <!-- Currently Equipped Checkbox -->\r\n                <div class=\"ia-equipped-checkbox-wrapper\">\r\n                    <input type=\"checkbox\" id=\"preset-${presetId}-equipped\" onchange=\"handlePresetEquipped(${presetId})\">\r\n                    <label for=\"preset-${presetId}-equipped\">Currently Equipped</label>\r\n                </div>\r\n\r\n                <!-- Inner Ability Lines - Premium Grid Layout -->\r\n                <div class=\"ia-lines-grid\">\r\n                    ${linesHTML}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    `;\r\n}\r\n\r\n/**\r\n * Generate the complete HTML for the inner ability tab\r\n */\r\nexport function generateInnerAbilityHTML(): string {\r\n    // Generate preset tabs\r\n    const tabsHTML = Array.from({ length: 10 }, (_, i) => {\r\n        const presetId = i + 1;\r\n        const activeClass = presetId === 1 ? 'active' : '';\r\n        return `<button class=\"ia-preset-tab ${activeClass}\" id=\"preset-tab-${presetId}\" onclick=\"switchPreset(${presetId})\">${presetId}</button>`;\r\n    }).join('');\r\n\r\n    // Generate preset contents\r\n    const contentsHTML = Array.from({ length: 10 }, (_, i) => {\r\n        const presetId = i + 1;\r\n        return generatePresetContentHTML(presetId, presetId === 1);\r\n    }).join('');\r\n\r\n    return `\r\n        <!-- Premium Tab Navigation -->\r\n        <div class=\"tab-navigation\">\r\n            <button id=\"inner-ability-tab-button\" class=\"tab-button active\" onclick=\"switchInnerAbilityTab('my-ability-pages')\">My Ability Pages</button>\r\n            <button id=\"inner-ability-tab-button\" class=\"tab-button\" onclick=\"switchInnerAbilityTab('preset-comparison')\">Preset Comparison</button>\r\n            <button id=\"inner-ability-tab-button\" class=\"tab-button\" onclick=\"switchInnerAbilityTab('theoretical-best')\">Theoretical Best</button>\r\n        </div>\r\n\r\n        <!-- My Ability Pages Sub-Tab -->\r\n        <div id=\"inner-ability-my-ability-pages\" class=\"inner-ability-subtab active\">\r\n            <div id=\"hero-power-presets-container\">\r\n                <div class=\"ia-presets-tabs-container\">\r\n                    ${tabsHTML}\r\n                </div>\r\n                ${contentsHTML}\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Preset Comparison Sub-Tab -->\r\n        <div id=\"inner-ability-preset-comparison\" class=\"inner-ability-subtab\" style=\"display: none;\">\r\n            <div id=\"preset-comparison-container\">\r\n                <!-- Will be populated by renderPresetComparison() -->\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Theoretical Best Sub-Tab -->\r\n        <div id=\"inner-ability-theoretical-best\" class=\"inner-ability-subtab\" style=\"display: none;\">\r\n            <div id=\"theoretical-best-container\">\r\n                <!-- Will be populated by renderTheoreticalBest() -->\r\n            </div>\r\n        </div>\r\n    `;\r\n}\r\n\r\n// ============================================================================\r\n// PRESET COMPARISON RENDERING\r\n// ============================================================================\r\n\r\n/**\r\n * Render Preset Comparison table\r\n */\r\nexport function renderPresetComparison(): void {\r\n    const container = document.getElementById('preset-comparison-container');\r\n    if (!container) return;\r\n\r\n    const comparisons = calculatePresetComparisons();\r\n\r\n    if (comparisons.length === 0) {\r\n        container.innerHTML = '<div class=\"ia-empty-state\">No configured presets found. Add lines to your presets in the My Ability Pages tab.</div>';\r\n        return;\r\n    }\r\n\r\n    // Apply sorting based on current column and direction\r\n    const sortedComparisons = [...comparisons].sort((a, b) => {\r\n        let valA: number, valB: number;\r\n        switch (presetSortState.column) {\r\n            case 0: // Rank - sort by boss DPS gain (already sorted)\r\n                valA = a.bossDPSGain;\r\n                valB = b.bossDPSGain;\r\n                break;\r\n            case 1: // Preset\r\n                valA = a.id;\r\n                valB = b.id;\r\n                break;\r\n            case 2: // Boss DPS Gain\r\n                valA = a.bossDPSGain;\r\n                valB = b.bossDPSGain;\r\n                break;\r\n            case 3: // Normal DPS Gain\r\n                valA = a.normalDPSGain;\r\n                valB = b.normalDPSGain;\r\n                break;\r\n            default:\r\n                return 0;\r\n        }\r\n        return presetSortState.ascending ? valA - valB : valB - valA;\r\n    });\r\n\r\n    let html = '<div class=\"table-wrapper\">';\r\n    html += '<table class=\"table\"><thead><tr>';\r\n    html += '<th class=\"sortable\" onclick=\"sortPresetTable(0)\">Rank</th>';\r\n    html += '<th class=\"sortable\" onclick=\"sortPresetTable(1)\">Preset</th>';\r\n    html += '<th class=\"sortable\" onclick=\"sortPresetTable(2)\">Boss DPS Gain</th>';\r\n    html += '<th class=\"sortable\" onclick=\"sortPresetTable(3)\">Normal DPS Gain</th>';\r\n    html += '</tr></thead><tbody>';\r\n\r\n    // Find equipped preset for percent difference calculation\r\n    const equippedComp = sortedComparisons.find(c => c.isEquipped);\r\n    const equippedBossDPS = equippedComp ? equippedComp.bossDPSGain : null;\r\n    const equippedNormalDPS = equippedComp ? equippedComp.normalDPSGain : null;\r\n\r\n    // Helper to render a DPS cell (numeric + percent vs equipped when applicable)\r\n    function makeDpsCell(gain: number, equippedGain: number | null, isEquippedRow: boolean): string {\r\n        if (equippedComp && !isEquippedRow && equippedGain !== null) {\r\n            const percent = equippedGain !== 0 ? ((gain - equippedGain) / equippedGain) * 100 : 0;\r\n            const cls = percent >= 0 ? 'ia-dps-positive' : 'ia-dps-negative';\r\n            return `<td><span class=\"ia-dps-value ${cls}\">+${formatNumber(gain)} <span class=\"ia-dps-percent\">(${percent >= 0 ? '+' : ''}${percent.toFixed(2)}%)</span></span></td>`;\r\n        } else {\r\n            // No equipped preset or this is the equipped row \u2014 plain value\r\n            return `<td><span class=\"ia-dps-value\">+${formatNumber(gain)}</span></td>`;\r\n        }\r\n    }\r\n\r\n    sortedComparisons.forEach((comp, index) => {\r\n        const rankClass = index < 3 ? `badge--rank-${index + 1}` : 'rank-default';\r\n        const rankBadge = `<span class=\"badge ${rankClass}\">${index + 1}</span>`;\r\n        const equippedBadge = comp.isEquipped ? '<span class=\"ia-equipped-badge\">Equipped</span>' : '';\r\n\r\n        html += `<tr class=\"expandable\" onclick=\"toggleLineBreakdown(${comp.id})\">`;\r\n        html += `<td>${rankBadge}</td>`;\r\n        html += `<td>Preset ${comp.id}${equippedBadge}</td>`;\r\n\r\n        html += makeDpsCell(comp.bossDPSGain, equippedBossDPS, comp.isEquipped);\r\n        html += makeDpsCell(comp.normalDPSGain, equippedNormalDPS, comp.isEquipped);\r\n        html += '</tr>';\r\n\r\n        // Line breakdown row\r\n        html += `<tr id=\"breakdown-${comp.id}\" class=\"ia-line-breakdown-row\" style=\"display: none;\"><td colspan=\"4\">`;\r\n        html += '<div class=\"ia-line-breakdown-content\">';\r\n        comp.lineContributions.forEach(line => {\r\n            html += `<div class=\"ia-line-breakdown-item\">`;\r\n            html += `<span class=\"ia-line-breakdown-stat\">${line.stat}: ${line.value}</span>`;\r\n            html += `<span class=\"ia-line-breakdown-value\">+${formatNumber(line.dpsContribution)} DPS</span>`;\r\n            html += `</div>`;\r\n        });\r\n        html += `<div class=\"ia-line-breakdown-item\">`;\r\n        html += `<span class=\"ia-line-breakdown-stat\"><strong>Total</strong></span>`;\r\n        html += `<span class=\"ia-line-breakdown-value\"><strong>+${formatNumber(comp.bossDPSGain)} DPS</strong></span>`;\r\n        html += `</div>`;\r\n        html += '</div></td></tr>';\r\n    });\r\n\r\n    html += '</tbody></table></div>';\r\n    container.innerHTML = html;\r\n}\r\n\r\n// ============================================================================\r\n// THEORETICAL BEST RENDERING\r\n// ============================================================================\r\n\r\n/**\r\n * Render Theoretical Best table\r\n */\r\nexport function renderTheoreticalBest(): void {\r\n    const container = document.getElementById('theoretical-best-container');\r\n    if (!container) return;\r\n\r\n    const results = calculateTheoreticalBest();\r\n    const combinations = calculateBestCombinations();\r\n\r\n    // Calculate baseline damage using StatCalculationService\r\n    const baseline = getBaselineStats();\r\n    const baselineService = new StatCalculationService(baseline);\r\n    const baselineBossDamage = baselineService.compute('boss');\r\n    const baselineBossDps = baselineBossDamage.dps;\r\n\r\n    // Apply sorting based on current column and direction\r\n    const sortedResults = [...results].sort((a, b) => {\r\n        return theoreticalSortState.ascending ? a.dpsGain - b.dpsGain : b.dpsGain - a.dpsGain;\r\n    });\r\n\r\n    // Filter results based on roll type checkboxes\r\n    const filteredResults = sortedResults.filter(result => {\r\n        if (result.roll === 'Min' && !theoreticalRollFilters.min) return false;\r\n        if (result.roll === 'Mid' && !theoreticalRollFilters.mid) return false;\r\n        if (result.roll === 'Max' && !theoreticalRollFilters.max) return false;\r\n        return true;\r\n    });\r\n\r\n    let html = '<div class=\"ia-theoretical-section\">';\r\n    html += '<h3 class=\"title\">All Possible Rolls Ranked</h3>';\r\n\r\n    // Add roll type checkboxes\r\n    html += '<div class=\"ia-roll-filters\">';\r\n    html += '<label class=\"ia-roll-filter-label\"><input type=\"checkbox\" id=\"roll-filter-min\" onchange=\"toggleTheoreticalRollFilter(\\'min\\')\" ' + (theoreticalRollFilters.min ? 'checked' : '') + '> Min Rolls</label>';\r\n    html += '<label class=\"ia-roll-filter-label\"><input type=\"checkbox\" id=\"roll-filter-mid\" onchange=\"toggleTheoreticalRollFilter(\\'mid\\')\" ' + (theoreticalRollFilters.mid ? 'checked' : '') + '> Mid Rolls</label>';\r\n    html += '<label class=\"ia-roll-filter-label\"><input type=\"checkbox\" id=\"roll-filter-max\" onchange=\"toggleTheoreticalRollFilter(\\'max\\')\" ' + (theoreticalRollFilters.max ? 'checked' : '') + '> Max Rolls</label>';\r\n    html += '</div>';\r\n\r\n    html += '<div class=\"table-scrollable\">';\r\n    html += '<table class=\"table\"><thead><tr>';\r\n    html += '<th>Stat & Roll</th>';\r\n    html += '<th>Value</th>';\r\n    html += '<th class=\"sortable\" onclick=\"sortTheoreticalTable(2)\">DPS Gain</th>';\r\n    html += '</tr></thead><tbody>';\r\n\r\n    filteredResults.forEach(result => {\r\n        const rarityLetter = result.rarity.charAt(0).toUpperCase();\r\n        const rarityClass = `rarity-${result.rarity.toLowerCase()}`;\r\n        const badge = `<span class=\"badge badge--rarity ${rarityClass}\">${rarityLetter}</span>`;\r\n        const percentClass = result.percentIncrease > 0 ? 'ia-dps-positive' : 'ia-dps-negative';\r\n        const statDisplayName = getStatDisplayName(result.stat);\r\n\r\n        html += '<tr>';\r\n        html += `<td>${badge}${statDisplayName} ${result.roll} Roll</td>`;\r\n        html += `<td class=\"ia-dps-value\">${result.value}</td>`;\r\n        html += `<td><span class=\"ia-dps-value\">+${formatNumber(result.dpsGain)}</span> <span class=\"${percentClass} ia-dps-percent\">(${result.percentIncrease >= 0 ? '+' : ''}${result.percentIncrease.toFixed(2)}%)</span></td>`;\r\n        html += '</tr>';\r\n    });\r\n\r\n    html += '</tbody></table></div></div>';\r\n\r\n    // Best Combinations\r\n    html += '<div class=\"ia-theoretical-section\">';\r\n    html += '<h3 class=\"title\">Best Possible Combinations</h3>';\r\n\r\n    // Unique Only\r\n    html += '<div class=\"ia-combo-card\">';\r\n    html += '<h4><span class=\"badge badge--rarity rarity-unique\">U</span>Best with Unique Only (3 Lines)</h4>';\r\n    html += '<div class=\"ia-combo-lines\">';\r\n    combinations.uniqueOnly.lines.forEach(line => {\r\n        const rarityClass = `rarity-${line.rarity.toLowerCase()}`;\r\n        const statDisplayName = getStatDisplayName(line.stat);\r\n        html += `<div class=\"ia-combo-line\"><span class=\"badge badge--rarity ${rarityClass}\">${line.rarity.charAt(0)}</span>${statDisplayName}: ${line.value}</div>`;\r\n    });\r\n    html += '</div>';\r\n    {\r\n        const percent = (combinations.uniqueOnly.totalDPS / baselineBossDps) * 100;\r\n        html += `<div class=\"ia-combo-total\">Total DPS Gain: +${formatNumber(combinations.uniqueOnly.totalDPS)} <span class=\"ia-dps-percent\">(${percent >= 0 ? '+' : ''}${percent.toFixed(2)}%)</span></div>`;\r\n    }\r\n    html += '</div>';\r\n\r\n    // Unique + Legendary\r\n    html += '<div class=\"ia-combo-card\">';\r\n    html += '<h4><span class=\"badge badge--rarity rarity-unique\">U</span><span class=\"badge badge--rarity rarity-legendary\">L</span>Best with Unique + Legendary (Up to 5 Lines)</h4>';\r\n    html += '<div class=\"ia-combo-lines\">';\r\n    combinations.uniqueLegendary.lines.forEach(line => {\r\n        const rarityClass = `rarity-${line.rarity.toLowerCase()}`;\r\n        const statDisplayName = getStatDisplayName(line.stat);\r\n        html += `<div class=\"ia-combo-line\"><span class=\"badge badge--rarity ${rarityClass}\">${line.rarity.charAt(0)}</span>${statDisplayName}: ${line.value}</div>`;\r\n    });\r\n    html += '</div>';\r\n    {\r\n        const percent = (combinations.uniqueLegendary.totalDPS / baselineBossDps) * 100;\r\n        html += `<div class=\"ia-combo-total\">Total DPS Gain: +${formatNumber(combinations.uniqueLegendary.totalDPS)} <span class=\"ia-dps-percent\">(${percent >= 0 ? '+' : ''}${percent.toFixed(2)}%)</span></div>`;\r\n    }\r\n    html += '</div>';\r\n\r\n    // Mystic + Legendary + Unique\r\n    html += '<div class=\"ia-combo-card\">';\r\n    html += '<h4><span class=\"badge badge--rarity rarity-mystic\">M</span><span class=\"badge badge--rarity rarity-legendary\">L</span><span class=\"badge badge--rarity rarity-unique\">U</span>Best with Mystic + Legendary + Unique (Up to 6 Lines)</h4>';\r\n    html += '<div class=\"ia-combo-lines\">';\r\n    combinations.mysticLegendaryUnique.lines.forEach(line => {\r\n        const rarityClass = `rarity-${line.rarity.toLowerCase()}`;\r\n        const statDisplayName = getStatDisplayName(line.stat);\r\n        html += `<div class=\"ia-combo-line\"><span class=\"badge badge--rarity ${rarityClass}\">${line.rarity.charAt(0)}</span>${statDisplayName}: ${line.value}</div>`;\r\n    });\r\n    html += '</div>';\r\n    {\r\n        const percent = (combinations.mysticLegendaryUnique.totalDPS / baselineBossDps) * 100;\r\n        html += `<div class=\"ia-combo-total\">Total DPS Gain: +${formatNumber(combinations.mysticLegendaryUnique.totalDPS)} <span class=\"ia-dps-percent\">(${percent >= 0 ? '+' : ''}${percent.toFixed(2)}%)</span></div>`;\r\n    }\r\n    html += '</div>';\r\n\r\n    // All Rarities\r\n    html += '<div class=\"ia-combo-card\">';\r\n    html += '<h4>Best with All Rarities (6 Lines)</h4>';\r\n    html += '<div class=\"ia-combo-lines\">';\r\n    combinations.allRarities.lines.forEach(line => {\r\n        const rarityClass = `rarity-${line.rarity.toLowerCase()}`;\r\n        const statDisplayName = getStatDisplayName(line.stat);\r\n        html += `<div class=\"ia-combo-line\"><span class=\"badge badge--rarity ${rarityClass}\">${line.rarity.charAt(0)}</span>${statDisplayName}: ${line.value}</div>`;\r\n    });\r\n    html += '</div>';\r\n    {\r\n        const percent = (combinations.allRarities.totalDPS / baselineBossDps) * 100;\r\n        html += `<div class=\"ia-combo-total\">Total DPS Gain: +${formatNumber(combinations.allRarities.totalDPS)} <span class=\"ia-dps-percent\">(${percent >= 0 ? '+' : ''}${percent.toFixed(2)}%)</span></div>`;\r\n    }\r\n    html += '</div></div>';\r\n\r\n    container.innerHTML = html;\r\n}\r\n\r\n// ============================================================================\r\n// TAB SWITCHING\r\n// ============================================================================\r\n\r\n/**\r\n * Switch inner ability sub-tabs\r\n */\r\nexport function switchInnerAbilityTab(tabName: InnerAbilityTabName): void {\r\n    const allSubTabContent = document.querySelectorAll('.inner-ability-subtab');\r\n    const allSubTabButtons = document.querySelectorAll('#inner-ability-tab-button');\r\n\r\n    // Hide all subtabs\r\n    allSubTabContent.forEach(tab => {\r\n        tab.classList.remove('active');\r\n        (tab as HTMLElement).style.display = 'none';\r\n    });\r\n\r\n    // Remove active from all buttons\r\n    allSubTabButtons.forEach(btn => {\r\n        btn.classList.remove('active');\r\n    });\r\n\r\n    // Show selected subtab\r\n    const selectedTab = document.getElementById(`inner-ability-${tabName}`);\r\n    if (selectedTab) {\r\n        selectedTab.classList.add('active');\r\n        selectedTab.style.display = 'block';\r\n    }\r\n\r\n    // Activate button - Find the button by matching the onclick attribute\r\n    allSubTabButtons.forEach(btn => {\r\n        const onclickAttr = btn.getAttribute('onclick');\r\n        if (onclickAttr && onclickAttr.includes(tabName)) {\r\n            btn.classList.add('active');\r\n        }\r\n    });\r\n\r\n    // Render content\r\n    if (tabName === 'preset-comparison') {\r\n        renderPresetComparison();\r\n    } else if (tabName === 'theoretical-best') {\r\n        renderTheoreticalBest();\r\n    }\r\n}\r\n\r\n/**\r\n * Switch between preset tabs (1-10)\r\n */\r\nexport function switchPreset(presetId: number): void {\r\n    // Hide all preset contents\r\n    for (let i = 1; i <= 10; i++) {\r\n        const content = document.getElementById(`preset-${i}-content`);\r\n        const tab = document.getElementById(`preset-tab-${i}`);\r\n\r\n        if (content) content.classList.remove('active');\r\n        if (tab) tab.classList.remove('active');\r\n    }\r\n\r\n    // Show selected preset\r\n    const selectedContent = document.getElementById(`preset-${presetId}-content`);\r\n    const selectedTab = document.getElementById(`preset-tab-${presetId}`);\r\n\r\n    if (selectedContent) selectedContent.classList.add('active');\r\n    if (selectedTab) selectedTab.classList.add('active');\r\n}\r\n\r\n// ============================================================================\r\n// PRESET HANDLERS\r\n// ============================================================================\r\n\r\n/**\r\n * Handle preset equipped checkbox change\r\n */\r\nexport function handlePresetEquipped(presetId: number): void {\r\n    const checkbox = document.getElementById(`preset-${presetId}-equipped`) as HTMLInputElement;\r\n\r\n    if (checkbox.checked) {\r\n        // Uncheck all other presets\r\n        for (let i = 1; i <= 10; i++) {\r\n            if (i !== presetId) {\r\n                const otherCheckbox = document.getElementById(`preset-${i}-equipped`) as HTMLInputElement;\r\n                const otherTab = document.getElementById(`preset-tab-${i}`);\r\n\r\n                if (otherCheckbox) otherCheckbox.checked = false;\r\n                if (otherTab) otherTab.classList.remove('equipped');\r\n            }\r\n        }\r\n\r\n        // Mark this preset tab as equipped\r\n        const tab = document.getElementById(`preset-tab-${presetId}`);\r\n        if (tab) tab.classList.add('equipped');\r\n\r\n        // Update store\r\n        gearLabStore.setEquippedPreset(presetId);\r\n    } else {\r\n        // Unmark this preset tab\r\n        const tab = document.getElementById(`preset-tab-${presetId}`);\r\n        if (tab) tab.classList.remove('equipped');\r\n\r\n        // Update store\r\n        gearLabStore.setEquippedPreset(null);\r\n    }\r\n\r\n    // Update comparison tables\r\n    renderPresetComparison();\r\n    renderTheoreticalBest();\r\n}\r\n\r\n/**\r\n * Handle preset line change\r\n */\r\nexport function handlePresetLineChange(presetId: number, lineIndex: number): void {\r\n    const statSelect = document.getElementById(`preset-${presetId}-line-${lineIndex + 1}-stat`) as HTMLSelectElement;\r\n    const valueInput = document.getElementById(`preset-${presetId}-line-${lineIndex + 1}-value`) as HTMLInputElement;\r\n\r\n    const stat = statSelect?.value || '';\r\n    const value = parseFloat(valueInput?.value) || 0;\r\n\r\n    // Populate statId based on stat name using the mapping\r\n    const statId = stat ? INNER_ABILITY_DISPLAY_NAME_TO_ID[stat] || '' : '';\r\n\r\n    // Update store\r\n    gearLabStore.updatePresetLine(presetId, lineIndex, { stat, statId, value });\r\n\r\n    // Update comparison tables\r\n    renderPresetComparison();\r\n    renderTheoreticalBest();\r\n}\r\n\r\n// ============================================================================\r\n// TABLE INTERACTIONS\r\n// ============================================================================\r\n\r\n/**\r\n * Toggle line breakdown visibility\r\n */\r\nexport function toggleLineBreakdown(presetId: number): void {\r\n    const row = document.getElementById(`breakdown-${presetId}`) as HTMLElement;\r\n    if (row) {\r\n        row.style.display = row.style.display === 'none' ? 'table-row' : 'none';\r\n    }\r\n}\r\n\r\n/**\r\n * Sort preset table\r\n */\r\nexport function sortPresetTable(column: number): void {\r\n    if (presetSortState.column === column) {\r\n        presetSortState.ascending = !presetSortState.ascending;\r\n    } else {\r\n        presetSortState.column = column;\r\n        presetSortState.ascending = false;\r\n    }\r\n    renderPresetComparison();\r\n}\r\n\r\n/**\r\n * Sort theoretical table\r\n */\r\nexport function sortTheoreticalTable(column: number): void {\r\n    if (theoreticalSortState.column === column) {\r\n        theoreticalSortState.ascending = !theoreticalSortState.ascending;\r\n    } else {\r\n        theoreticalSortState.column = column;\r\n        theoreticalSortState.ascending = false;\r\n    }\r\n    renderTheoreticalBest();\r\n}\r\n\r\n/**\r\n * Toggle theoretical roll filter (min/mid/max)\r\n */\r\nexport function toggleTheoreticalRollFilter(rollType: 'min' | 'mid' | 'max'): void {\r\n    theoreticalRollFilters[rollType] = !theoreticalRollFilters[rollType];\r\n    renderTheoreticalBest();\r\n}\r\n\r\n// ============================================================================\r\n// INITIALIZATION\r\n// ============================================================================\r\n\r\n/**\r\n * Initialize the inner ability UI\r\n */\r\nexport function initializeInnerAbilityUI(): void {\r\n    const container = document.getElementById('optimization-inner-ability');\r\n    if (!container) {\r\n        console.error('Inner ability container not found');\r\n        return;\r\n    }\r\n\r\n    // Generate HTML\r\n    container.innerHTML = generateInnerAbilityHTML();\r\n}\r\n\r\n/**\r\n * Load inner ability data from store and populate UI\r\n */\r\nexport function loadInnerAbilityFromStore(): void {\r\n    const presets = gearLabStore.getInnerAbilityPresets();\r\n\r\n    Object.entries(presets).forEach(([presetIdStr, preset]) => {\r\n        const presetId = parseInt(presetIdStr);\r\n\r\n        // Set equipped checkbox\r\n        const equippedCheckbox = document.getElementById(`preset-${presetId}-equipped`) as HTMLInputElement;\r\n        const tab = document.getElementById(`preset-tab-${presetId}`);\r\n\r\n        if (equippedCheckbox) {\r\n            equippedCheckbox.checked = preset.isEquipped;\r\n            if (preset.isEquipped && tab) {\r\n                tab.classList.add('equipped');\r\n            }\r\n        }\r\n\r\n        // Set lines\r\n        preset.lines.forEach((line, index) => {\r\n            const statSelect = document.getElementById(`preset-${presetId}-line-${index + 1}-stat`) as HTMLSelectElement;\r\n            const valueInput = document.getElementById(`preset-${presetId}-line-${index + 1}-value`) as HTMLInputElement;\r\n\r\n            if (statSelect) statSelect.value = line.stat;\r\n            if (valueInput) valueInput.value = line.value.toString();\r\n        });\r\n    });\r\n\r\n    // Pre-render comparison tables\r\n    renderPresetComparison();\r\n    renderTheoreticalBest();\r\n}\r\n\r\n/**\r\n * Attach event listeners for inner ability UI\r\n */\r\nexport function attachInnerAbilityEventListeners(): void {\r\n}\r\n\r\n// ============================================================================\r\n// WINDOW EXPORTS\r\n// ============================================================================\r\n\r\n// Export functions to window for HTML onclick compatibility\r\nif (typeof window !== 'undefined') {\r\n    (window as any).switchInnerAbilityTab = switchInnerAbilityTab;\r\n    (window as any).toggleLineBreakdown = toggleLineBreakdown;\r\n    (window as any).sortPresetTable = sortPresetTable;\r\n    (window as any).sortTheoreticalTable = sortTheoreticalTable;\r\n    (window as any).toggleTheoreticalRollFilter = toggleTheoreticalRollFilter;\r\n    (window as any).switchPreset = switchPreset;\r\n    (window as any).handlePresetEquipped = handlePresetEquipped;\r\n    (window as any).handlePresetLineChange = handlePresetLineChange;\r\n}\r\n"],
  "mappings": "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",
  "names": []
}
