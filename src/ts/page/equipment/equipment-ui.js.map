{
  "version": 3,
  "sources": ["equipment-ui.ts"],
  "sourcesContent": ["/**\n * Equipment UI - HTML Generation and Event Handlers\n * Handles all UI rendering and user interactions for equipment slots\n */\n\nimport type {\n    EquipmentSlotConfig,\n    EquipmentSlotData,\n    EquipmentSlotId,\n    EquipmentAggregateStats,\n    StatDisplayConfig,\n} from '@ts/types/page/equipment/equipment.types';\nimport {\n    EQUIPMENT_SLOTS,\n    getSlotConfig,\n    generateStatTypeOptionsHTML,\n    setSlotData,\n    loadAllEquipmentData,\n    getAllEquipmentData,\n    calculateAllContributions,\n    isValidSlot,\n    migrateStatlineFormats,\n} from './equipment';\nimport { STAT, type StatId } from '@ts/types/constants';\nimport { \n    hasEquipmentViewerData, \n    getAllEquippedItems,\n    type ConvertedItem \n} from '@ts/services/equipment-viewer.service';\nimport { showToast } from '@ts/utils/notifications';\n\n/**\n * Legacy kebab-case to STAT.X.id mapping for UI migration\n * Used to convert legacy data format to new STAT.X.id format\n */\nconst LEGACY_KEY_TO_STAT_ID: Record<string, StatId> = {\n    'attack': STAT.ATTACK.id,\n    'main-stat': STAT.PRIMARY_MAIN_STAT.id,\n    'defense': STAT.DEFENSE.id,\n    'crit-rate': STAT.CRIT_RATE.id,\n    'crit-damage': STAT.CRIT_DAMAGE.id,\n    'skill-level-1st': STAT.SKILL_LEVEL_1ST.id,\n    'skill-level-2nd': STAT.SKILL_LEVEL_2ND.id,\n    'skill-level-3rd': STAT.SKILL_LEVEL_3RD.id,\n    'skill-level-4th': STAT.SKILL_LEVEL_4TH.id,\n    'attack-speed': STAT.ATTACK_SPEED.id,\n    'skill-level-all': STAT.SKILL_LEVEL_ALL.id,\n    'normal-damage': STAT.NORMAL_DAMAGE.id,\n    'boss-damage': STAT.BOSS_DAMAGE.id,\n    'damage': STAT.DAMAGE.id,\n    'damage-amp': STAT.DAMAGE_AMP.id,\n    'final-damage': STAT.FINAL_DAMAGE.id,\n    'min-damage': STAT.MIN_DAMAGE.id,\n    'max-damage': STAT.MAX_DAMAGE.id,\n} as const;\n\n// ============================================================================\n// WINDOW TYPE DECLARATIONS\n// ============================================================================\n\ndeclare global {\n    interface Window {\n        saveSlotData: (slotId: string) => void;\n        addStatLineToSlot: (slotId: string) => void;\n        removeStatLineFromSlot: (slotId: string, statId: number) => void;\n        clearSlotData: (slotId: string) => void;\n        loadEquipmentData: () => void;\n        notifyStatContributors: () => void;\n        equipmentAggregateStats?: EquipmentAggregateStats;\n    }\n}\n\n// ============================================================================\n// HTML GENERATION\n// ============================================================================\n\n/**\n * Generate HTML for a single equipment slot card\n */\nfunction generateSlotCardHTML(slot: EquipmentSlotConfig): string {\n    const mainStatInput = slot.hasMainStat ? `\n        <div class=\"equipment-input-group\">\n            <label class=\"equipment-input-label\" for=\"equipment-${slot.id}-main-stat\">Main Stat</label>\n            <input type=\"number\" step=\"1\" id=\"equipment-${slot.id}-main-stat\" value=\"0\" min=\"0\" class=\"equipment-input-field\">\n        </div>\n    ` : '';\n\n    return `\n        <div id=\"equipment-slot-${slot.id}\" class=\"equipment-slot-card\" data-needs-init=\"true\">\n            <div class=\"equipment-slot-header\">\n                <div class=\"equipment-slot-name\">${slot.name}</div>\n            </div>\n\n            <div class=\"equipment-inputs-grid\">\n                <div class=\"equipment-input-group\">\n                    <label class=\"equipment-input-label\" for=\"equipment-${slot.id}-attack\">${STAT.ATTACK.label}</label>\n                    <input type=\"number\" step=\"0.1\" id=\"equipment-${slot.id}-attack\" value=\"0\" min=\"0\" class=\"equipment-input-field\">\n                </div>\n                ${mainStatInput}\n            </div>\n\n            <div class=\"equipment-stats-section\">\n                <div class=\"equipment-stats-header\">\n                    <label class=\"equipment-stats-label\">Additional Stats</label>\n                    <button data-slot=\"${slot.id}\" class=\"equipment-action-btn equipment-btn-add\">\n                        + Add Stat\n                    </button>\n                </div>\n                <div id=\"equipment-${slot.id}-stats-container\" class=\"equipment-stats-container\">\n                    <!-- Stat lines will be added here -->\n                </div>\n            </div>\n        </div>\n    `;\n}\n\n/**\n * Generate HTML for a stat line\n */\nfunction generateStatLineHTML(slotId: string, statIndex: number): string {\n    const optionsHTML = generateStatTypeOptionsHTML();\n\n    return `\n        <div id=\"equipment-${slotId}-stat-${statIndex}\" class=\"equipment-stat-line\">\n            <div class=\"equipment-input-group equipment-stat-type-select\">\n                <select id=\"equipment-${slotId}-stat-${statIndex}-type\" class=\"equipment-input-field equipment-select-field\">\n                    ${optionsHTML}\n                </select>\n            </div>\n            <div class=\"equipment-input-group\">\n                <input type=\"number\" step=\"0.1\" id=\"equipment-${slotId}-stat-${statIndex}-value\" value=\"0\" class=\"equipment-input-field equipment-stat-value-input\">\n            </div>\n            <button data-slot=\"${slotId}\" data-stat=\"${statIndex}\" class=\"equipment-btn-delete equipment-stat-delete-btn\" title=\"Remove stat line\">\u2715</button>\n        </div>\n    `;\n}\n\n/**\n * Generate the complete HTML for all equipment slots\n */\nexport function generateEquipmentHTML(): string {\n    return `\n        <div id=\"equipment-header\" class=\"equipment-header\">\n            <div id=\"equipment-summary-container\" class=\"mb-8\">\n                <div class=\"mb-4\">Equipment Summary</div>\n                <div id=\"equipment-summary-content\" class=\"equipment-summary-content\">\n                    <span class=\"equipment-summary-empty\">No equipment configured</span>\n                </div>\n            </div>\n            <button id=\"refresh-equipment-from-viewer-btn\" class=\"equipment-refresh-btn\" title=\"Refresh from Equipment Viewer\" style=\"display: none;\">\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"currentColor\">\n                    <path fill-rule=\"evenodd\" d=\"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z\"/>\n                    <path d=\"M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z\"/>\n                </svg>\n                <span>Refresh from Equipment Viewer</span>\n            </button>\n        </div>\n\n        <div id=\"equipment-slots-container\" class=\"equipment-slots-grid\">\n            ${EQUIPMENT_SLOTS.map(generateSlotCardHTML).join('')}\n        </div>       \n    `;\n}\n\n// ============================================================================\n// INITIALIZATION\n// ============================================================================\n\n/**\n * Initialize the equipment UI - generates HTML only\n */\nexport function initializeEquipmentUI(): void {\n    const container = document.getElementById('setup-equipment');\n    if (!container) {\n        console.error('Equipment container not found');\n        return;\n    }\n\n    // Run one-time migration of legacy kebab-case statline formats to statId format\n    migrateStatlineFormats();\n\n    // Generate HTML\n    container.innerHTML = generateEquipmentHTML();\n}\n\n/**\n * Load equipment data from localStorage and populate UI\n */\nexport function loadEquipmentUI(): void {\n    loadAllEquipmentData();\n\n    const equipmentData = getAllEquipmentData();\n\n    EQUIPMENT_SLOTS.forEach(slot => {\n        const slotElement = document.getElementById(`equipment-slot-${slot.id}`);\n        const slotData = equipmentData[slot.id];\n\n        if (!slotElement) return;\n\n        // Clear init flag\n        slotElement.dataset.needsInit = 'false';\n\n        if (slotData) {\n            populateSlotWithData(slot.id, slotData);\n        } else {\n            // Initialize with empty stat lines\n            const statsContainer = document.getElementById(`equipment-${slot.id}-stats-container`);\n            if (statsContainer && statsContainer.children.length === 0) {\n                for (let i = 0; i < 3; i++) {\n                    addStatLineToSlot(slot.id);\n                }\n            }\n        }\n    });\n\n    // Update summary after loading\n    updateEquipmentSummary();\n}\n\n/**\n * Populate a slot with saved data\n */\nfunction populateSlotWithData(slotId: string, data: EquipmentSlotData): void {\n    // Set attack\n    const attackInput = document.getElementById(`equipment-${slotId}-attack`) as HTMLInputElement;\n    if (attackInput) attackInput.value = (data.attack || 0).toString();\n\n    // Set main stat if applicable\n    const mainStatInput = document.getElementById(`equipment-${slotId}-main-stat`) as HTMLInputElement;\n    if (mainStatInput && data.mainStat !== undefined) {\n        mainStatInput.value = data.mainStat.toString();\n    }\n\n    // Clear and rebuild stat lines\n    const statsContainer = document.getElementById(`equipment-${slotId}-stats-container`);\n    if (statsContainer) {\n        statsContainer.innerHTML = '';\n\n        if (data.statLines && Array.isArray(data.statLines)) {\n            data.statLines.forEach(statLine => {\n                addStatLineToSlot(slotId);\n                const statCount = statsContainer.children.length;\n                const typeInput = document.getElementById(`equipment-${slotId}-stat-${statCount}-type`) as HTMLSelectElement;\n                const valueInput = document.getElementById(`equipment-${slotId}-stat-${statCount}-value`) as HTMLInputElement;\n\n                // Handle both old format (kebab-case) and new format (statId)\n                let typeValue = statLine.type;\n                // Convert old kebab-case format to statId if needed\n                if (typeValue in LEGACY_KEY_TO_STAT_ID) {\n                    typeValue = LEGACY_KEY_TO_STAT_ID[typeValue];\n                }\n\n                if (typeInput) typeInput.value = typeValue;\n                if (valueInput) valueInput.value = statLine.value.toString();\n            });\n        }\n    }\n}\n\n// ============================================================================\n// EVENT HANDLERS\n// ============================================================================\n\n/**\n * Debounce utility function\n */\nfunction debounce<T extends (...args: unknown[]) => void>(func: T, wait: number): (...args: Parameters<T>) => void {\n    let timeout: ReturnType<typeof setTimeout> | null = null;\n    return function executedFunction(...args: Parameters<T>) {\n        if (timeout) clearTimeout(timeout);\n        timeout = setTimeout(() => func(...args), wait);\n    };\n}\n\n/**\n * Save data for a specific slot from DOM inputs\n */\nfunction saveSlotDataFromDOM(slotId: string): void {\n    // Type guard check\n    if (!isValidSlot(slotId)) {\n        console.warn(`Invalid slot ID: ${slotId}`);\n        return;\n    }\n\n    // After type guard check, we can safely cast to EquipmentSlotId\n    const validSlotId = slotId as EquipmentSlotId;\n\n    const slotConfig = getSlotConfig(validSlotId);\n    if (!slotConfig) return;\n\n    // Get attack value\n    const attackInput = document.getElementById(`equipment-${validSlotId}-attack`) as HTMLInputElement;\n    const attack = attackInput ? parseFloat(attackInput.value) || 0 : 0;\n\n    // Get main stat (if applicable)\n    let mainStat: number | undefined;\n    if (slotConfig.hasMainStat) {\n        const mainStatInput = document.getElementById(`equipment-${validSlotId}-main-stat`) as HTMLInputElement;\n        mainStat = mainStatInput ? parseFloat(mainStatInput.value) || 0 : undefined;\n    }\n\n    // Get stat lines - now stores STAT constant ID format (camelCase)\n    // statId format: 'attack', 'critRate', 'bossDamage', etc.\n    const statLines: Array<{ type: StatId; value: number }> = [];\n    const statsContainer = document.getElementById(`equipment-${validSlotId}-stats-container`);\n    if (statsContainer) {\n        const statElements = statsContainer.querySelectorAll(`[id^=\"equipment-${validSlotId}-stat-\"]:not([id*=\"-type\"]):not([id*=\"-value\"])`);\n        statElements.forEach(statElement => {\n            const typeInput = statElement.querySelector('[id$=\"-type\"]') as HTMLSelectElement;\n            const valueInput = statElement.querySelector('[id$=\"-value\"]') as HTMLInputElement;\n            if (typeInput && valueInput && typeInput.value && valueInput.value) {\n                statLines.push({\n                    type: typeInput.value as StatId, // Cast to StatId\n                    value: parseFloat(valueInput.value) || 0\n                });\n            }\n        });\n    }\n\n    // Store the data\n    const slotData: EquipmentSlotData = {\n        name: '',\n        attack,\n        mainStat,\n        statLines\n    };\n\n    setSlotData(validSlotId, slotData);\n}\n\n/**\n * Add a stat line to a slot\n */\nfunction addStatLineToSlot(slotId: string): void {\n    const statsContainer = document.getElementById(`equipment-${slotId}-stats-container`);\n    if (!statsContainer) return;\n\n    const currentCount = statsContainer.children.length;\n    const statId = currentCount + 1;\n\n    const statDiv = document.createElement('div');\n    statDiv.innerHTML = generateStatLineHTML(slotId, statId);\n    statsContainer.appendChild(statDiv.firstElementChild!);\n}\n\n/**\n * Remove a stat line from a slot\n */\nfunction removeStatLineFromSlot(slotId: string, statId: number): void {\n    const statElement = document.getElementById(`equipment-${slotId}-stat-${statId}`);\n    if (statElement) {\n        statElement.remove();\n        saveSlotDataFromDOM(slotId);\n        notifyStatContributors();\n    }\n}\n\n/**\n * Notify that stats have changed\n * Updates ContributedStats and notifies all listeners\n */\nfunction notifyStatContributors(): void {\n    // Calculate equipment contributions\n    const equipmentStats = calculateAllContributions();\n\n    // Update the equipment summary display\n    updateEquipmentSummary();\n}\n\n// ============================================================================\n// EQUIPMENT SUMMARY\n// ============================================================================\n\n/**\n * Calculate aggregate stats across all equipment\n */\nfunction calculateAggregateStats(equipmentData: ReturnType<typeof getAllEquipmentData>): EquipmentAggregateStats {\n    const totals: EquipmentAggregateStats = {\n        [STAT.ATTACK.id]: 0,\n        [STAT.PRIMARY_MAIN_STAT.id]: 0, \n        [STAT.MAIN_STAT_PCT.id]: 0, \n        [STAT.DEFENSE.id]: 0,\n        [STAT.CRIT_RATE.id]: 0,\n        [STAT.CRIT_DAMAGE.id]: 0,\n        [STAT.BOSS_DAMAGE.id]: 0,\n        [STAT.NORMAL_DAMAGE.id]: 0,\n        [STAT.DAMAGE.id]: 0,\n        [STAT.DAMAGE_AMP.id]: 0,\n        [STAT.FINAL_DAMAGE.id]: 0,\n        [STAT.MIN_DAMAGE.id]: 0,\n        [STAT.MAX_DAMAGE.id]: 0,\n        [STAT.SKILL_LEVEL_1ST.id]: 0,\n        [STAT.SKILL_LEVEL_2ND.id]: 0,\n        [STAT.SKILL_LEVEL_3RD.id]: 0,\n        [STAT.SKILL_LEVEL_4TH.id]: 0,\n        [STAT.SKILL_LEVEL_ALL.id]: 0,\n        [STAT.ATTACK_SPEED.id]: 0\n    };\n\n    Object.values(equipmentData).forEach(slotData => {\n        if (!slotData) return;\n\n        // Add attack\n        if (slotData.attack) {\n            totals[STAT.ATTACK.id] += slotData.attack;\n        }\n\n        // Add main stat\n        if (slotData.mainStat) {\n            totals[STAT.PRIMARY_MAIN_STAT.id] += slotData.mainStat;\n        }\n\n        // Add stat lines - statLine.type is now STAT.X.id\n        if (slotData.statLines && Array.isArray(slotData.statLines)) {\n            slotData.statLines.forEach(statLine => {\n                const statId = statLine.type;\n                if (statId && totals.hasOwnProperty(statId)) {\n                    totals[statId] += statLine.value;\n                }\n            });\n        }\n    });\n\n    return totals;\n}\n\n/**\n * Update the equipment summary with aggregate stats\n */\nexport function updateEquipmentSummary(): void {\n    const equipmentData = getAllEquipmentData();\n    const totals = calculateAggregateStats(equipmentData);\n    updateSummaryDisplay(totals);\n}\n\n/**\n * Update the summary display with premium styling\n */\nfunction updateSummaryDisplay(totals: EquipmentAggregateStats): void {\n    const summaryElement = document.getElementById('equipment-summary-content');\n    if (!summaryElement) return;\n\n    const parts: string[] = [];\n\n    // Define stat display configuration using STAT constant labels and IDs\n    const statConfigs: StatDisplayConfig[] = [\n        { key: STAT.ATTACK.id, label: STAT.ATTACK.label, isPercent: false },\n        { key: STAT.PRIMARY_MAIN_STAT.id, label: 'Main Stat', isPercent: false }, \n        { key: STAT.MAIN_STAT_PCT.id, label: 'Main Stat %', isPercent: true }, \n        { key: STAT.DEFENSE.id, label: STAT.DEFENSE.label, isPercent: false },\n        { key: STAT.CRIT_RATE.id, label: STAT.CRIT_RATE.label.replace(' (%)', ''), isPercent: true },\n        { key: STAT.CRIT_DAMAGE.id, label: STAT.CRIT_DAMAGE.label.replace(' (%)', ''), isPercent: true },\n        { key: STAT.BOSS_DAMAGE.id, label: STAT.BOSS_DAMAGE.label.replace(' (%)', '').replace('Monster ', ''), isPercent: true },\n        { key: STAT.DAMAGE.id, label: STAT.DAMAGE.label.replace(' (%)', ''), isPercent: true },\n        { key: STAT.NORMAL_DAMAGE.id, label: STAT.NORMAL_DAMAGE.label.replace(' (%)', '').replace('Monster ', ''), isPercent: true },\n        { key: STAT.FINAL_DAMAGE.id, label: STAT.FINAL_DAMAGE.label.replace(' (%)', ''), isPercent: true },\n        { key: STAT.MIN_DAMAGE.id, label: STAT.MIN_DAMAGE.label.replace(' (%)', '').replace(' Multiplier', ''), isPercent: true },\n        { key: STAT.MAX_DAMAGE.id, label: STAT.MAX_DAMAGE.label.replace(' (%)', '').replace(' Multiplier', ''), isPercent: true },\n        { key: STAT.SKILL_LEVEL_1ST.id, label: STAT.SKILL_LEVEL_1ST.label, isPercent: false },\n        { key: STAT.SKILL_LEVEL_2ND.id, label: STAT.SKILL_LEVEL_2ND.label, isPercent: false },\n        { key: STAT.SKILL_LEVEL_3RD.id, label: STAT.SKILL_LEVEL_3RD.label, isPercent: false },\n        { key: STAT.SKILL_LEVEL_4TH.id, label: STAT.SKILL_LEVEL_4TH.label, isPercent: false },\n        { key: STAT.SKILL_LEVEL_ALL.id, label: STAT.SKILL_LEVEL_ALL.label, isPercent: false },\n        { key: STAT.ATTACK_SPEED.id, label: 'All Jobs (Atk Speed)', isPercent: false } // Fallback for skill-level-all\n    ];\n\n    statConfigs.forEach(config => {\n        const value = totals[config.key];\n        // Round to 1 decimal place using Math.round\n        const roundedValue = Math.round(value * 10) / 10;\n        if (roundedValue > 0) {\n            const formattedValue = config.isPercent ? `${roundedValue}%` : roundedValue;\n            parts.push(`\n                <span class=\"equipment-summary-stat\">\n                    <span class=\"equipment-summary-stat-value\">+${formattedValue}</span>\n                    ${config.label}\n                </span>\n            `);\n        }\n    });\n\n    if (parts.length === 0) {\n        summaryElement.innerHTML = '<span class=\"equipment-summary-empty\">No equipment configured</span>';\n    } else {\n        summaryElement.innerHTML = parts.join('<span class=\"equipment-summary-divider\">\u2022</span>');\n    }\n\n    // Store totals for potential future use\n    window.equipmentAggregateStats = totals;\n}\n\n// ============================================================================\n// EVENT LISTENER ATTACHMENT\n// ============================================================================\n\n/**\n * Attach event listeners for the equipment UI\n * Uses event delegation to handle dynamically added stat lines\n */\nexport function attachEquipmentEventListeners(): void {\n    // Attach listeners for each slot\n    EQUIPMENT_SLOTS.forEach(slot => {\n        const slotElement = document.getElementById(`equipment-slot-${slot.id}`);\n        if (!slotElement) return;\n\n        // Use event delegation for input changes - this handles dynamically added stat lines\n        slotElement.addEventListener('input', debounce(() => {\n            saveSlotDataFromDOM(slot.id);\n            notifyStatContributors();\n        }, 300));\n\n        // Add stat button\n        const addStatBtn = slotElement.querySelector('.equipment-btn-add');\n        addStatBtn?.addEventListener('click', () => addStatLineToSlot(slot.id));\n\n        // Delete stat buttons (delegation)\n        slotElement.addEventListener('click', (e) => {\n            const target = e.target as HTMLElement;\n            if (target.classList.contains('equipment-stat-delete-btn')) {\n                const statId = target.getAttribute('data-stat');\n                if (statId) {\n                    removeStatLineFromSlot(slot.id, parseInt(statId));\n                }\n            }\n        });\n    });\n\n    // Refresh from Equipment Viewer button\n    const refreshBtn = document.getElementById('refresh-equipment-from-viewer-btn');\n    if (refreshBtn) {\n        refreshBtn.addEventListener('click', refreshFromEquipmentViewer);\n        // Show button if Equipment Viewer data exists\n        updateRefreshButtonVisibility();\n    }\n}\n\n/**\n * Update refresh button visibility based on Equipment Viewer data\n */\nfunction updateRefreshButtonVisibility(): void {\n    const refreshBtn = document.getElementById('refresh-equipment-from-viewer-btn');\n    if (refreshBtn) {\n        refreshBtn.style.display = hasEquipmentViewerData() ? '' : 'none';\n    }\n}\n\n/**\n * Refresh all equipment slots from Equipment Viewer (items marked Used=Y)\n */\nfunction refreshFromEquipmentViewer(): void {\n    if (!hasEquipmentViewerData()) {\n        showToast('No Equipment Viewer data found. Open Equipment Viewer and add items.', false);\n        return;\n    }\n\n    const equippedItems = getAllEquippedItems();\n    let updatedCount = 0;\n\n    for (const [slotId, item] of Object.entries(equippedItems)) {\n        if (!item) continue;\n\n        // Convert Equipment Viewer item to slot data format\n        const statLines = item.stats.map(stat => ({\n            type: stat.type,\n            value: stat.value\n        }));\n\n        // Build slot data\n        const slotData: EquipmentSlotData = {\n            name: item.name,\n            attack: item.attack,\n            mainStat: 0,\n            statLines\n        };\n\n        // Save to store and update UI\n        setSlotData(slotId as EquipmentSlotId, slotData);\n        populateSlotWithData(slotId, slotData);\n        updatedCount++;\n    }\n\n    // Update summary\n    updateEquipmentSummary();\n    notifyStatContributors();\n\n    showToast(`Updated ${updatedCount} equipment slot(s) from Equipment Viewer`, true);\n}\n\n// ============================================================================\n// GLOBAL FUNCTIONS (for backward compatibility)\n// ============================================================================\n\n// Export functions for global access (needed for onclick handlers)\nwindow.saveSlotData = (slotId: string) => {\n    saveSlotDataFromDOM(slotId);\n    notifyStatContributors();\n};\n\nwindow.addStatLineToSlot = addStatLineToSlot;\n\nwindow.removeStatLineFromSlot = (slotId: string, statId: number) => {\n    removeStatLineFromSlot(slotId, statId);\n};\n\nwindow.loadEquipmentData = loadEquipmentUI;\n\nwindow.notifyStatContributors = notifyStatContributors;\n"],
  "mappings": "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",
  "names": []
}
