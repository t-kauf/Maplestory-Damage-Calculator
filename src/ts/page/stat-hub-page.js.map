{
  "version": 3,
  "sources": ["stat-hub-page.ts"],
  "sourcesContent": ["/**\r\n * Stat Hub Page\r\n * Orchestration module for the Stat Hub page\r\n * Follows the pattern established by loadout-page.ts\r\n */\r\n\r\nimport { updateStatPredictions } from './stat-hub/stat-predictions-ui';\r\nimport { generateStatEquivalencyHTML } from './stat-hub/stat-equivalency-ui';\r\nimport { BasePage } from './base-page';\r\nimport { loadoutStore } from '@ts/store/loadout.store';\r\nimport { debounce } from '@ts/utils/event-emitter';\r\n// Import stat-chart for side-effect of attaching toggleStatChart to window\r\nimport '@ts/utils/stat-chart';\r\n\r\n\r\nclass StatHubPage extends BasePage {\r\n    private initialized: boolean = false;\r\n\r\n    constructor() {\r\n        super('predictions', 'stat-tables');\r\n    }\r\n\r\n\r\n    onPageVisible(tabName: string | null): void {\r\n        // Call parent to handle tab switching\r\n        super.onPageVisible(tabName);\r\n\r\n        // Initialize page components on first visit\r\n        if (!this.initialized) {\r\n            this.initializeComponents();\r\n            this.initialized = true;\r\n        }\r\n    }\r\n\r\n    private async initializeComponents(): Promise<void> {\r\n        const statWeightsContainer = document.getElementById('stat-weights');\r\n        if (!statWeightsContainer) {\r\n            console.warn('Stat predictions container not found');\r\n        }\r\n\r\n        const equivalencyContainer = document.getElementById('predictions-equivalency');\r\n        if (equivalencyContainer) {\r\n          this.updateEquivalency(equivalencyContainer);\r\n        }\r\n\r\n        updateStatPredictions();\r\n\r\n            loadoutStore.on('stat:changed', debounce((_) => {\r\n                this.updateEquivalency(equivalencyContainer);\r\n            }, 3000));\r\n    }\r\n\r\n    private updateEquivalency(equivalencyContainer: HTMLElement): void\r\n    {\r\n            equivalencyContainer.innerHTML = generateStatEquivalencyHTML();\r\n    }\r\n}\r\n\r\n// Export singleton instance for use by router and window\r\nexport const statHubPage = new StatHubPage();\r\n\r\n// Expose switchToTab method to window for HTML onclick handlers\r\nwindow.statHubPageSwitchToTab = (tabName: string) => statHubPage.switchToTab(tabName);\r\n\r\n// Declare the window function for TypeScript\r\ndeclare global {\r\n    interface Window {\r\n        statHubPageSwitchToTab: (tabName: string) => void;\r\n    }\r\n}"],
  "mappings": "AAMA,SAAS,6BAA6B;AACtC,SAAS,mCAAmC;AAC5C,SAAS,gBAAgB;AACzB,SAAS,oBAAoB;AAC7B,SAAS,gBAAgB;AAEzB,OAAO;AAGP,MAAM,oBAAoB,SAAS;AAAA,EAG/B,cAAc;AACV,UAAM,eAAe,aAAa;AAHtC,SAAQ,cAAuB;AAAA,EAI/B;AAAA,EAGA,cAAc,SAA8B;AAExC,UAAM,cAAc,OAAO;AAG3B,QAAI,CAAC,KAAK,aAAa;AACnB,WAAK,qBAAqB;AAC1B,WAAK,cAAc;AAAA,IACvB;AAAA,EACJ;AAAA,EAEA,MAAc,uBAAsC;AAChD,UAAM,uBAAuB,SAAS,eAAe,cAAc;AACnE,QAAI,CAAC,sBAAsB;AACvB,cAAQ,KAAK,sCAAsC;AAAA,IACvD;AAEA,UAAM,uBAAuB,SAAS,eAAe,yBAAyB;AAC9E,QAAI,sBAAsB;AACxB,WAAK,kBAAkB,oBAAoB;AAAA,IAC7C;AAEA,0BAAsB;AAElB,iBAAa,GAAG,gBAAgB,SAAS,CAAC,MAAM;AAC5C,WAAK,kBAAkB,oBAAoB;AAAA,IAC/C,GAAG,GAAI,CAAC;AAAA,EAChB;AAAA,EAEQ,kBAAkB,sBAC1B;AACQ,yBAAqB,YAAY,4BAA4B;AAAA,EACrE;AACJ;AAGO,MAAM,cAAc,IAAI,YAAY;AAG3C,OAAO,yBAAyB,CAAC,YAAoB,YAAY,YAAY,OAAO;",
  "names": []
}
