{
  "version": 3,
  "sources": ["stat-hub-page.ts"],
  "sourcesContent": ["/**\n * Stat Hub Page\n * Orchestration module for the Stat Hub page\n * Follows the pattern established by loadout-page.ts\n */\n\nimport { updateStatPredictions } from './stat-hub/stat-predictions-ui';\nimport { generateStatEquivalencyHTML } from './stat-hub/stat-equivalency-ui';\nimport { BasePage } from './base-page';\nimport { loadoutStore } from '@ts/store/loadout.store';\nimport { debounce } from '@ts/utils/event-emitter';\n// Import stat-chart for side-effect of attaching toggleStatChart to window\nimport '@ts/utils/stat-chart';\n\n\nclass StatHubPage extends BasePage {\n    private initialized: boolean = false;\n\n    constructor() {\n        super('predictions', 'stat-tables');\n    }\n\n\n    onPageVisible(tabName: string | null): void {\n        // Call parent to handle tab switching\n        super.onPageVisible(tabName);\n\n        // Initialize page components on first visit\n        if (!this.initialized) {\n            this.initializeComponents();\n            this.initialized = true;\n        }\n    }\n\n    private async initializeComponents(): Promise<void> {\n        const statWeightsContainer = document.getElementById('stat-weights');\n        if (!statWeightsContainer) {\n            console.warn('Stat predictions container not found');\n        }\n\n        const equivalencyContainer = document.getElementById('predictions-equivalency');\n        if (equivalencyContainer) {\n          this.updateEquivalency(equivalencyContainer);\n        }\n\n        updateStatPredictions();\n\n            loadoutStore.on('stat:changed', debounce((_) => {\n                this.updateEquivalency(equivalencyContainer);\n            }, 3000));\n    }\n\n    private updateEquivalency(equivalencyContainer: HTMLElement): void\n    {\n            equivalencyContainer.innerHTML = generateStatEquivalencyHTML();\n    }\n}\n\n// Export singleton instance for use by router and window\nexport const statHubPage = new StatHubPage();\n\n// Expose switchToTab method to window for HTML onclick handlers\nwindow.statHubPageSwitchToTab = (tabName: string) => statHubPage.switchToTab(tabName);\n\n// Declare the window function for TypeScript\ndeclare global {\n    interface Window {\n        statHubPageSwitchToTab: (tabName: string) => void;\n    }\n}"],
  "mappings": "AAMA,SAAS,6BAA6B;AACtC,SAAS,mCAAmC;AAC5C,SAAS,gBAAgB;AACzB,SAAS,oBAAoB;AAC7B,SAAS,gBAAgB;AAEzB,OAAO;AAGP,MAAM,oBAAoB,SAAS;AAAA,EAG/B,cAAc;AACV,UAAM,eAAe,aAAa;AAHtC,SAAQ,cAAuB;AAAA,EAI/B;AAAA,EAGA,cAAc,SAA8B;AAExC,UAAM,cAAc,OAAO;AAG3B,QAAI,CAAC,KAAK,aAAa;AACnB,WAAK,qBAAqB;AAC1B,WAAK,cAAc;AAAA,IACvB;AAAA,EACJ;AAAA,EAEA,MAAc,uBAAsC;AAChD,UAAM,uBAAuB,SAAS,eAAe,cAAc;AACnE,QAAI,CAAC,sBAAsB;AACvB,cAAQ,KAAK,sCAAsC;AAAA,IACvD;AAEA,UAAM,uBAAuB,SAAS,eAAe,yBAAyB;AAC9E,QAAI,sBAAsB;AACxB,WAAK,kBAAkB,oBAAoB;AAAA,IAC7C;AAEA,0BAAsB;AAElB,iBAAa,GAAG,gBAAgB,SAAS,CAAC,MAAM;AAC5C,WAAK,kBAAkB,oBAAoB;AAAA,IAC/C,GAAG,GAAI,CAAC;AAAA,EAChB;AAAA,EAEQ,kBAAkB,sBAC1B;AACQ,yBAAqB,YAAY,4BAA4B;AAAA,EACrE;AACJ;AAGO,MAAM,cAAc,IAAI,YAAY;AAG3C,OAAO,yBAAyB,CAAC,YAAoB,YAAY,YAAY,OAAO;",
  "names": []
}
