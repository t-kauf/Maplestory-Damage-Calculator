{
  "version": 3,
  "sources": ["gear-lab-store.ts"],
  "sourcesContent": ["/**\n * Centralized store for Gear Lab data\n * Handles loading, saving, and migrating inner ability preset configuration\n *\n * DATA FLOW:\n * 1. User changes preset input\n * 2. Event listener fires UI handler\n * 3. UI handler calls gearLabStore.updatePreset()\n * 4. Store updates memory + saves to localStorage (immediate write)\n */\n\nimport type {\n    GearLabData,\n    InnerAbilityPreset,\n    InnerAbilityLine,\n    LegacyHeroPowerPresets,\n    LegacyCubePotentialData,\n    CubeSlotId,\n    PotentialType,\n    PotentialLine,\n    PotentialSet,\n    CubeSlotData,\n    AllCubeSlotData,\n    Rarity,\n    EquipmentSlotId,\n    EquipmentSlotData,\n    AllEquipmentSlotData,\n    LegacyEquipmentSlotData,\n    ComparisonItem,\n    ComparisonEquipment,\n    ComparisonStatLine,\n    LegacyComparisonItem\n} from '@ts/types/page/gear-lab/gear-lab.types';\nimport { DEFAULT_GEAR_LAB_DATA, EMPTY_POTENTIAL_LINE, EMPTY_POTENTIAL_SET, VALID_EQUIPMENT_SLOTS } from '@ts/types/page/gear-lab/gear-lab.types';\nimport { INNER_ABILITY_DISPLAY_NAME_TO_ID } from '@ts/page/inner-ability/inner-ability';\nimport { STAT, type StatId } from '@ts/types/constants';\n\nexport class GearLabStore {\n    private data: GearLabData;\n    private isInitialized: boolean = false;\n\n    // ========================================================================\n    // CONSTRUCTOR\n    // ========================================================================\n\n    constructor() {\n        // Initialize with default data - will be populated by initialize()\n        this.data = JSON.parse(JSON.stringify(DEFAULT_GEAR_LAB_DATA));\n    }\n\n    // ========================================================================\n    // INITIALIZATION\n    // ========================================================================\n\n    /**\n     * Initialize store - loads from localStorage, handles migration\n     * Call this at the top of the application initialization\n     *\n     * @returns Promise that resolves when initialization is complete\n     */\n    async initialize(): Promise<void> {\n        if (this.isInitialized) {\n            console.warn('GearLabStore already initialized');\n            return;\n        }\n\n        // 1. Try loading from new 'gear-lab-data' key\n        const newData = localStorage.getItem('gear-lab-data');\n\n        if (newData) {\n            try {\n                this.data = JSON.parse(newData);\n                console.log('GearLabStore: Loaded from new format (gear-lab-data)');\n            } catch (e) {\n                console.error('GearLabStore: Failed to parse gear-lab-data, falling back to migration', e);\n                this.migrateFromLegacy();\n            }\n        } else {\n            // 2. If new key doesn't exist, migrate from old 'heroPowerPresets' key\n            this.migrateFromLegacy();\n        }\n\n        // 3. Validate and fill in missing fields with defaults\n        this.validateAndFillDefaults();\n\n        this.isInitialized = true;\n        console.log('GearLabStore: Initialization complete', this.data);\n    }\n\n    /**\n     * Migrate data from legacy localStorage keys to new format\n     */\n    private migrateFromLegacy(): void {\n        console.log('GearLabStore: Migrating from legacy format...');\n\n        // Migrate Inner Ability from heroPowerPresets\n        const legacyInnerAbilityStr = localStorage.getItem('heroPowerPresets');\n        if (legacyInnerAbilityStr) {\n            try {\n                const legacy: LegacyHeroPowerPresets = JSON.parse(legacyInnerAbilityStr);\n\n                // Migrate each preset\n                Object.entries(legacy).forEach(([key, preset]) => {\n                    const presetId = parseInt(key);\n                    if (presetId >= 1 && presetId <= 10) {\n                        // Migrate lines to include statId field\n                        const migratedLines = (preset.lines || []).map((line: any) => ({\n                            stat: line.stat || '',\n                            statId: line.stat ? INNER_ABILITY_DISPLAY_NAME_TO_ID[line.stat] || '' : '',\n                            value: line.value || 0\n                        }));\n\n                        this.data.innerAbility.presets[presetId] = {\n                            id: presetId,\n                            isEquipped: preset.isEquipped || false,\n                            lines: migratedLines\n                        };\n                    }\n                });\n\n                console.log('GearLabStore: Inner Ability migration complete');\n\n                // Clean up old localStorage key after successful migration\n                localStorage.removeItem('heroPowerPresets');\n                console.log('GearLabStore: Deleted heroPowerPresets key');\n            } catch (error) {\n                console.error('GearLabStore: Failed to migrate heroPowerPresets:', error);\n            }\n        } else {\n            console.log('GearLabStore: No legacy heroPowerPresets found');\n        }\n\n        // Migrate Cube Potential from old state.js format\n        this.migrateCubePotentialFromLegacy();\n\n        // Migrate Equipment Slots from old format\n        this.migrateEquipmentSlotsFromLegacy();\n\n        // Migrate Comparison Items from old format\n        this.migrateComparisonItemsFromLegacy();\n\n        console.log('GearLabStore: Migration complete, saving to new format...');\n        this.saveDualWrite();\n    }\n\n    /**\n     * Migrate comparison items from legacy comparison-state.js format\n     */\n    private migrateComparisonItemsFromLegacy(): void {\n        // Try to read from localStorage with keys 'comparisonItems.{slotId}'\n        const slotIds: EquipmentSlotId[] = ['head', 'cape', 'chest', 'shoulders', 'legs', 'belt', 'gloves', 'boots', 'ring', 'neck', 'eye-accessory'];\n\n        let migratedCount = 0;\n\n        slotIds.forEach(slotId => {\n            const legacyKey = `comparisonItems.${slotId}`;\n            const legacyDataStr = localStorage.getItem(legacyKey);\n\n            if (legacyDataStr) {\n                try {\n                    const legacyItems: LegacyComparisonItem[] = JSON.parse(legacyDataStr);\n\n                    // Migrate each item to new format\n                    legacyItems.forEach(legacyItem => {\n                        // Convert legacy stats format to new statLines format\n                        const statLines: ComparisonStatLine[] = (legacyItem.stats || []).map(stat => ({\n                            type: stat.type as StatId,\n                            value: parseFloat(stat.value) || 0\n                        }));\n\n                        const newItem: Omit<ComparisonItem, 'guid'> = {\n                            name: legacyItem.name || 'Item',\n                            attack: legacyItem.attack || 0,\n                            mainStat: 0,  // Legacy format didn't track main stat separately\n                            statLines\n                        };\n\n                        // Add to comparison equipment (will generate new GUID)\n                        this.addComparisonItem(slotId, newItem);\n                        migratedCount++;\n                    });\n\n                    console.log(`GearLabStore: Migrated ${legacyItems.length} comparison items for slot ${slotId}`);\n\n                    // Clean up old localStorage key after successful migration\n                    localStorage.removeItem(legacyKey);\n                    console.log(`GearLabStore: Deleted ${legacyKey} key`);\n\n                } catch (error) {\n                    console.error(`GearLabStore: Failed to migrate comparison items for ${slotId}:`, error);\n                }\n            }\n        });\n\n        if (migratedCount > 0) {\n            console.log(`GearLabStore: Total ${migratedCount} comparison items migrated`);\n        } else {\n            console.log('GearLabStore: No legacy comparison items found');\n        }\n    }\n\n    /**\n     * Migrate cube potential data from legacy format\n     */\n    private migrateCubePotentialFromLegacy(): void {\n        // Try to read from localStorage with key 'cubePotentialData'\n        const legacyDataStr = localStorage.getItem('cubePotentialData');\n        if (!legacyDataStr) {\n            console.log('GearLabStore: No legacy cubePotentialData found in localStorage');\n            return;\n        }\n\n        try {\n            const legacyCubeData: LegacyCubePotentialData = JSON.parse(legacyDataStr);\n\n            // Migrate each slot\n            Object.entries(legacyCubeData).forEach(([slotId, slotData]) => {\n                // Validate slotId is a valid CubeSlotId\n                if (this.isValidCubeSlotId(slotId)) {\n                    this.data.cubePotential[slotId as CubeSlotId] = {\n                        regular: {\n                            rarity: slotData.regular.rarity || 'normal',\n                            rollCount: slotData.regular.rollCount || 0,\n                            setA: this.validatePotentialSet(slotData.regular.setA),\n                            setB: this.validatePotentialSet(slotData.regular.setB)\n                        },\n                        bonus: {\n                            rarity: slotData.bonus.rarity || 'normal',\n                            rollCount: slotData.bonus.rollCount || 0,\n                            setA: this.validatePotentialSet(slotData.bonus.setA),\n                            setB: this.validatePotentialSet(slotData.bonus.setB)\n                        }\n                    };\n                }\n            });\n\n            console.log('GearLabStore: Cube potential migration complete');\n\n            // Clean up old localStorage key after successful migration\n            localStorage.removeItem('cubePotentialData');\n            console.log('GearLabStore: Deleted cubePotentialData key');\n        } catch (error) {\n            console.error('GearLabStore: Failed to migrate cube potential:', error);\n        }\n    }\n\n    /**\n     * Migrate equipment slot data from legacy format\n     */\n    private migrateEquipmentSlotsFromLegacy(): void {\n        // Try to read from localStorage with key 'equipmentSlots'\n        const legacyDataStr = localStorage.getItem('equipmentSlots');\n        if (!legacyDataStr) {\n            console.log('GearLabStore: No legacy equipmentSlots found in localStorage');\n            return;\n        }\n\n        try {\n            const legacyData: Record<string, LegacyEquipmentSlotData> = JSON.parse(legacyDataStr);\n\n            // Migrate each slot\n            Object.entries(legacyData).forEach(([slotId, slotData]) => {\n                // Validate slotId is a valid EquipmentSlotId\n                if (this.isValidEquipmentSlotId(slotId)) {\n                    this.data.equipmentSlots[slotId as EquipmentSlotId] = {\n                        attack: typeof slotData.attack === 'number' ? slotData.attack : 0,\n                        mainStat: typeof slotData.mainStat === 'number' ? slotData.mainStat : 0,\n                        damageAmp: typeof slotData.damageAmp === 'number' ? slotData.damageAmp : 0\n                    };\n                }\n            });\n\n            console.log('GearLabStore: Equipment slots migration complete');\n\n            // Clean up old localStorage key after successful migration\n            localStorage.removeItem('equipmentSlots');\n            console.log('GearLabStore: Deleted equipmentSlots key');\n        } catch (error) {\n            console.error('GearLabStore: Failed to migrate equipment slots:', error);\n        }\n    }\n\n    /**\n     * Validate if a string is a valid EquipmentSlotId\n     */\n    private isValidEquipmentSlotId(slotId: string): boolean {\n        return VALID_EQUIPMENT_SLOTS.includes(slotId as EquipmentSlotId);\n    }\n\n    /**\n     * Validate if a string is a valid CubeSlotId\n     */\n    private isValidCubeSlotId(slotId: string): boolean {\n        const validSlots: CubeSlotId[] = ['helm', 'cape', 'chest', 'shoulder', 'legs', 'belt', 'gloves', 'boots', 'ring', 'necklace', 'eye-accessory'];\n        return validSlots.includes(slotId as CubeSlotId);\n    }\n\n    /**\n     * Validate and sanitize a potential set\n     */\n    private validatePotentialSet(set: any): PotentialSet {\n        return {\n            line1: this.validatePotentialLine(set?.line1),\n            line2: this.validatePotentialLine(set?.line2),\n            line3: this.validatePotentialLine(set?.line3)\n        };\n    }\n\n    /**\n     * Validate and sanitize a potential line\n     */\n    private validatePotentialLine(line: any): PotentialLine {\n        if (!line || typeof line.stat !== 'string') {\n            return { ...EMPTY_POTENTIAL_LINE };\n        }\n        return {\n            stat: line.stat || '',\n            value: typeof line.value === 'number' ? line.value : 0,\n            prime: Boolean(line.prime)\n        };\n    }\n\n    /**\n     * Validate data structure and fill missing fields with defaults\n     */\n    private validateAndFillDefaults(): void {\n        const defaults = DEFAULT_GEAR_LAB_DATA;\n\n        // Validate innerAbility.presets\n        if (!this.data.innerAbility?.presets) {\n            this.data.innerAbility = {\n                presets: { ...defaults.innerAbility.presets }\n            };\n        }\n\n        // Ensure all presets 1-20 exist\n        for (let i = 1; i <= 20; i++) {\n            if (!this.data.innerAbility.presets[i]) {\n                this.data.innerAbility.presets[i] = {\n                    id: i,\n                    isEquipped: false,\n                    lines: []\n                };\n            } else {\n                // Validate preset structure\n                const preset = this.data.innerAbility.presets[i];\n                if (typeof preset.id !== 'number') preset.id = i;\n                if (typeof preset.isEquipped !== 'boolean') preset.isEquipped = false;\n                if (!Array.isArray(preset.lines)) preset.lines = [];\n            }\n        }\n\n        // Ensure only one preset is equipped\n        const equippedPresets = Object.values(this.data.innerAbility.presets)\n            .filter(p => p.isEquipped);\n\n        if (equippedPresets.length > 1) {\n            // Keep only the first equipped preset\n            equippedPresets.slice(1).forEach(p => p.isEquipped = false);\n            console.warn('GearLabStore: Multiple presets equipped, keeping only first');\n        }\n\n        // Validate cubePotential\n        if (!this.data.cubePotential) {\n            this.data.cubePotential = { ...defaults.cubePotential };\n        }\n\n        // Ensure all cube slots exist with valid data\n        const validSlots: CubeSlotId[] = ['helm', 'cape', 'chest', 'shoulder', 'legs', 'belt', 'gloves', 'boots', 'ring', 'necklace', 'eye-accessory'];\n        validSlots.forEach(slotId => {\n            if (!this.data.cubePotential[slotId]) {\n                this.data.cubePotential[slotId] = { ...defaults.cubePotential[slotId] };\n            } else {\n                // Validate slot data structure\n                const slot = this.data.cubePotential[slotId];\n                ['regular', 'bonus'].forEach((potentialType: PotentialType) => {\n                    if (!slot[potentialType]) {\n                        slot[potentialType] = { ...defaults.cubePotential[slotId][potentialType] };\n                    } else {\n                        const typeData = slot[potentialType];\n                        // Validate rarity\n                        if (!this.isValidRarity(typeData.rarity)) {\n                            typeData.rarity = 'normal';\n                        }\n                        // Validate rollCount\n                        if (typeof typeData.rollCount !== 'number') {\n                            typeData.rollCount = 0;\n                        }\n                        // Validate sets\n                        typeData.setA = this.validatePotentialSet(typeData.setA);\n                        typeData.setB = this.validatePotentialSet(typeData.setB);\n                    }\n                });\n            }\n        });\n\n        // Validate equipmentSlots\n        if (!this.data.equipmentSlots) {\n            this.data.equipmentSlots = { ...defaults.equipmentSlots };\n        }\n\n        // Ensure all equipment slots exist with valid data\n        VALID_EQUIPMENT_SLOTS.forEach(slotId => {\n            if (!this.data.equipmentSlots[slotId]) {\n                this.data.equipmentSlots[slotId] = { ...defaults.equipmentSlots[slotId] };\n            } else {\n                // Validate slot data structure\n                const slot = this.data.equipmentSlots[slotId];\n                if (typeof slot.attack !== 'number') slot.attack = 0;\n                if (typeof slot.mainStat !== 'number') slot.mainStat = 0;\n                if (typeof slot.damageAmp !== 'number') slot.damageAmp = 0;\n            }\n        });\n\n        // Validate comparisonEquipment\n        if (!this.data.comparisonEquipment) {\n            this.data.comparisonEquipment = { ...defaults.comparisonEquipment };\n        }\n\n        // Ensure all comparison equipment slots exist with valid arrays\n        VALID_EQUIPMENT_SLOTS.forEach(slotId => {\n            if (!Array.isArray(this.data.comparisonEquipment[slotId])) {\n                this.data.comparisonEquipment[slotId] = [];\n            } else {\n                // Validate each item in the array\n                this.data.comparisonEquipment[slotId] = this.data.comparisonEquipment[slotId].filter(item => {\n                    // Validate item structure\n                    if (typeof item.guid !== 'string' || !item.guid) return false;\n                    if (typeof item.name !== 'string') return false;\n                    if (typeof item.attack !== 'number') return false;\n                    if (typeof item.mainStat !== 'number') return false;\n                    if (!Array.isArray(item.statLines)) return false;\n\n                    // Validate stat lines\n                    item.statLines = item.statLines.filter(statLine => {\n                        return typeof statLine.type === 'string' && typeof statLine.value === 'number';\n                    });\n\n                    return true;\n                });\n            }\n        });\n    }\n\n    /**\n     * Validate if a string is a valid Rarity\n     */\n    private isValidRarity(rarity: any): rarity is Rarity {\n        const validRarities: Rarity[] = ['normal', 'rare', 'epic', 'unique', 'legendary', 'mystic'];\n        return validRarities.includes(rarity);\n    }\n\n    // ========================================================================\n    // GETTERS - Return pre-hydrated data with safe defaults\n    // ========================================================================\n\n    /**\n     * Get all inner ability presets\n     * @returns All 20 presets as a record\n     */\n    getInnerAbilityPresets(): Record<number, InnerAbilityPreset> {\n        return JSON.parse(JSON.stringify(this.data.innerAbility.presets));\n    }\n\n    /**\n     * Get a single preset\n     * @param id - Preset ID (1-20)\n     * @returns Preset data or null if not found\n     */\n    getPreset(id: number): InnerAbilityPreset | null {\n        const preset = this.data.innerAbility.presets[id];\n        return preset ? JSON.parse(JSON.stringify(preset)) : null;\n    }\n\n    /**\n     * Get the currently equipped preset ID\n     * @returns Equipped preset ID (1-20) or null if none equipped\n     */\n    getEquippedPresetId(): number | null {\n        const equipped = Object.values(this.data.innerAbility.presets)\n            .find(p => p.isEquipped);\n        return equipped ? equipped.id : null;\n    }\n\n    /**\n     * Get all data (for export/debugging)\n     * @returns Deep clone of gear lab data\n     */\n    getAllData(): GearLabData {\n        return JSON.parse(JSON.stringify(this.data));\n    }\n\n    // ========================================================================\n    // SETTERS - Partial updates with immediate save\n    // ========================================================================\n\n    /**\n     * Update a preset\n     * @param id - Preset ID (1-10)\n     * @param data - Partial preset data to update\n     */\n    updatePreset(id: number, data: Partial<InnerAbilityPreset>): void {\n        if (id < 1 || id > 20) {\n            console.error(`GearLabStore: Invalid preset ID ${id}`);\n            return;\n        }\n\n        if (!this.data.innerAbility.presets[id]) {\n            this.data.innerAbility.presets[id] = {\n                id,\n                isEquipped: false,\n                lines: []\n            };\n        }\n\n        // Merge update with existing preset\n        this.data.innerAbility.presets[id] = {\n            ...this.data.innerAbility.presets[id],\n            ...data,\n            id  // Ensure id cannot be changed\n        };\n\n        // Ensure only one preset is equipped\n        if (data.isEquipped === true) {\n            for (let i = 1; i <= 20; i++) {\n                if (i !== id) {\n                    if (this.data.innerAbility.presets[i]) {\n                        this.data.innerAbility.presets[i].isEquipped = false;\n                    }\n                }\n            }\n        }\n\n        this.saveDualWrite();\n    }\n\n    /**\n     * Update a single line in a preset\n     * @param presetId - Preset ID (1-20)\n     * @param lineIndex - Line index (0-5)\n     * @param line - Line data\n     */\n    updatePresetLine(presetId: number, lineIndex: number, line: InnerAbilityLine): void {\n        if (presetId < 1 || presetId > 20) {\n            console.error(`GearLabStore: Invalid preset ID ${presetId}`);\n            return;\n        }\n\n        if (lineIndex < 0 || lineIndex > 5) {\n            console.error(`GearLabStore: Invalid line index ${lineIndex}`);\n            return;\n        }\n\n        const preset = this.data.innerAbility.presets[presetId];\n        if (!preset) {\n            console.error(`GearLabStore: Preset ${presetId} not found`);\n            return;\n        }\n\n        // Ensure lines array exists and has enough space\n        if (!preset.lines) {\n            preset.lines = [];\n        }\n\n        // Extend array if needed\n        while (preset.lines.length <= lineIndex) {\n            preset.lines.push({ stat: '', statId: '', value: 0 });\n        }\n\n        // Populate statId based on stat name using the mapping\n        const statId = line.stat ? INNER_ABILITY_DISPLAY_NAME_TO_ID[line.stat] || '' : '';\n        preset.lines[lineIndex] = { ...line, statId };\n\n        this.saveDualWrite();\n    }\n\n    /**\n     * Set which preset is equipped\n     * @param id - Preset ID to equip (1-20), or null to unequip all\n     */\n    setEquippedPreset(id: number | null): void {\n        if (id !== null && (id < 1 || id > 20)) {\n            console.error(`GearLabStore: Invalid preset ID ${id}`);\n            return;\n        }\n\n        // Unequip all presets\n        for (let i = 1; i <= 20; i++) {\n            if (this.data.innerAbility.presets[i]) {\n                this.data.innerAbility.presets[i].isEquipped = false;\n            }\n        }\n\n        // Equip the specified preset\n        if (id !== null) {\n            this.data.innerAbility.presets[id].isEquipped = true;\n        }\n\n        this.saveDualWrite();\n    }\n\n    // ========================================================================\n    // CUBE POTENTIAL GETTERS\n    // ========================================================================\n\n    /**\n     * Get all cube slot data\n     * @returns Deep clone of all cube slot data\n     */\n    getCubeSlotData(): AllCubeSlotData {\n        return JSON.parse(JSON.stringify(this.data.cubePotential));\n    }\n\n    /**\n     * Get data for a specific cube slot\n     * @param slotId - Equipment slot ID\n     * @returns Cube slot data or null if not found\n     */\n    getCubeSlot(slotId: CubeSlotId): CubeSlotData | null {\n        const slot = this.data.cubePotential[slotId];\n        return slot ? JSON.parse(JSON.stringify(slot)) : null;\n    }\n\n    // ========================================================================\n    // CUBE POTENTIAL SETTERS\n    // ========================================================================\n\n    /**\n     * Update rarity for a slot's potential type\n     * @param slotId - Equipment slot ID\n     * @param potentialType - 'regular' or 'bonus'\n     * @param rarity - New rarity value\n     */\n    updateCubeRarity(slotId: CubeSlotId, potentialType: PotentialType, rarity: Rarity): void {\n        if (!this.data.cubePotential[slotId]) {\n            console.error(`GearLabStore: Invalid slot ID ${slotId}`);\n            return;\n        }\n\n        this.data.cubePotential[slotId][potentialType].rarity = rarity;\n        // Reset roll count when rarity changes\n        this.data.cubePotential[slotId][potentialType].rollCount = 0;\n        this.saveDualWrite();\n    }\n\n    /**\n     * Update roll count for a slot's potential type\n     * @param slotId - Equipment slot ID\n     * @param potentialType - 'regular' or 'bonus'\n     * @param rollCount - New roll count value\n     */\n    updateCubeRollCount(slotId: CubeSlotId, potentialType: PotentialType, rollCount: number): void {\n        if (!this.data.cubePotential[slotId]) {\n            console.error(`GearLabStore: Invalid slot ID ${slotId}`);\n            return;\n        }\n\n        this.data.cubePotential[slotId][potentialType].rollCount = rollCount;\n        this.saveDualWrite();\n    }\n\n    /**\n     * Update a potential line for a slot's potential type and set\n     * @param slotId - Equipment slot ID\n     * @param potentialType - 'regular' or 'bonus'\n     * @param setName - 'setA' or 'setB'\n     * @param lineNumber - Line number (1, 2, or 3)\n     * @param line - Line data\n     */\n    updateCubeLine(\n        slotId: CubeSlotId,\n        potentialType: PotentialType,\n        setName: 'setA' | 'setB',\n        lineNumber: 1 | 2 | 3,\n        line: PotentialLine\n    ): void {\n        if (!this.data.cubePotential[slotId]) {\n            console.error(`GearLabStore: Invalid slot ID ${slotId}`);\n            return;\n        }\n\n        const lineKey = `line${lineNumber}` as keyof PotentialSet;\n        this.data.cubePotential[slotId][potentialType][setName][lineKey] = line;\n        this.saveDualWrite();\n    }\n\n    /**\n     * Update an entire potential set for a slot's potential type\n     * @param slotId - Equipment slot ID\n     * @param potentialType - 'regular' or 'bonus'\n     * @param setName - 'setA' or 'setB'\n     * @param set - Complete potential set\n     */\n    updateCubeSet(\n        slotId: CubeSlotId,\n        potentialType: PotentialType,\n        setName: 'setA' | 'setB',\n        set: PotentialSet\n    ): void {\n        if (!this.data.cubePotential[slotId]) {\n            console.error(`GearLabStore: Invalid slot ID ${slotId}`);\n            return;\n        }\n\n            this.data.cubePotential[slotId][potentialType][setName] = set;\n        this.saveDualWrite();\n    }\n\n    // ========================================================================\n    // EQUIPMENT SLOTS\n    // ========================================================================\n\n    /**\n     * Get all equipment slot data\n     * @returns Deep clone of all equipment slot data\n     */\n    getEquipmentSlots(): AllEquipmentSlotData {\n        return JSON.parse(JSON.stringify(this.data.equipmentSlots));\n    }\n\n    /**\n     * Get data for a specific equipment slot\n     * @param slotId - Equipment slot ID\n     * @returns Equipment slot data or null if not found\n     */\n    getEquipmentSlot(slotId: EquipmentSlotId): EquipmentSlotData | null {\n        const slot = this.data.equipmentSlots[slotId];\n        return slot ? JSON.parse(JSON.stringify(slot)) : null;\n    }\n\n    /**\n     * Update equipment slot data\n     * @param slotId - Equipment slot ID\n     * @param data - Partial equipment slot data to update\n     */\n    updateEquipmentSlot(slotId: EquipmentSlotId, data: Partial<EquipmentSlotData>): void {\n        if (!VALID_EQUIPMENT_SLOTS.includes(slotId)) {\n            console.error(`GearLabStore: Invalid slot ID ${slotId}`);\n            return;\n        }\n\n        if (!this.data.equipmentSlots[slotId]) {\n            this.data.equipmentSlots[slotId] = { attack: 0, mainStat: 0, damageAmp: 0 };\n        }\n\n        // Merge update with existing slot data\n        this.data.equipmentSlots[slotId] = {\n            ...this.data.equipmentSlots[slotId],\n            ...data\n        };\n\n        this.saveDualWrite();\n    }\n\n    /**\n     * Update all equipment slots at once\n     * @param slots - Complete equipment slot data\n     */\n    updateAllEquipmentSlots(slots: Partial<AllEquipmentSlotData>): void {\n        VALID_EQUIPMENT_SLOTS.forEach(slotId => {\n            if (slots[slotId]) {\n                if (!this.data.equipmentSlots[slotId]) {\n                    this.data.equipmentSlots[slotId] = { attack: 0, mainStat: 0, damageAmp: 0 };\n                }\n\n                this.data.equipmentSlots[slotId] = {\n                    ...this.data.equipmentSlots[slotId],\n                    ...slots[slotId]\n                };\n            }\n        });\n\n        this.saveDualWrite();\n    }\n\n    // ========================================================================\n    // COMPARISON EQUIPMENT\n    // ========================================================================\n\n    /**\n     * Get all comparison equipment data\n     * @returns Deep clone of all comparison equipment\n     */\n    getComparisonEquipment(): ComparisonEquipment {\n        return JSON.parse(JSON.stringify(this.data.comparisonEquipment));\n    }\n\n    /**\n     * Get comparison items for a specific slot\n     * @param slotId - Equipment slot ID\n     * @returns Array of comparison items for the slot\n     */\n    getComparisonItems(slotId: EquipmentSlotId): ComparisonItem[] {\n        if (!this.data.comparisonEquipment[slotId]) {\n            this.data.comparisonEquipment[slotId] = [];\n        }\n        return JSON.parse(JSON.stringify(this.data.comparisonEquipment[slotId]));\n    }\n\n    /**\n     * Get a specific comparison item by GUID\n     * @param slotId - Equipment slot ID\n     * @param guid - Item GUID\n     * @returns Item data or null if not found\n     */\n    getComparisonItem(slotId: EquipmentSlotId, guid: string): ComparisonItem | null {\n        const items = this.data.comparisonEquipment[slotId];\n        if (!items) return null;\n\n        const item = items.find(i => i.guid === guid);\n        return item ? JSON.parse(JSON.stringify(item)) : null;\n    }\n\n    /**\n     * Add a new comparison item to a slot\n     * @param slotId - Equipment slot ID\n     * @param item - Item data (guid will be generated)\n     * @returns The created item with generated guid\n     */\n    addComparisonItem(slotId: EquipmentSlotId, item: Omit<ComparisonItem, 'guid'>): ComparisonItem {\n        if (!this.data.comparisonEquipment[slotId]) {\n            this.data.comparisonEquipment[slotId] = [];\n        }\n\n        // Generate UUID v4 (parameter type excludes guid, so we always generate)\n        const guid = this.generateUUID();\n\n        const newItem: ComparisonItem = {\n            guid,\n            name: item.name,\n            attack: item.attack,\n            mainStat: item.mainStat,\n            statLines: item.statLines || []\n        };\n\n        this.data.comparisonEquipment[slotId].push(newItem);\n        this.saveDualWrite();\n\n        return JSON.parse(JSON.stringify(newItem));\n    }\n\n    /**\n     * Update an existing comparison item\n     * @param slotId - Equipment slot ID\n     * @param guid - Item GUID\n     * @param data - Partial item data to update\n     * @returns True if successful, false if item not found\n     */\n    updateComparisonItem(slotId: EquipmentSlotId, guid: string, data: Partial<ComparisonItem>): boolean {\n        const items = this.data.comparisonEquipment[slotId];\n        if (!items) return false;\n\n        const index = items.findIndex(i => i.guid === guid);\n        if (index === -1) return false;\n\n        // Merge update with existing item\n        items[index] = {\n            ...items[index],\n            ...data,\n            guid  // Ensure guid cannot be changed\n        };\n\n        this.saveDualWrite();\n        return true;\n    }\n\n    /**\n     * Remove a comparison item from a slot\n     * @param slotId - Equipment slot ID\n     * @param guid - Item GUID\n     * @returns True if successful, false if item not found\n     */\n    removeComparisonItem(slotId: EquipmentSlotId, guid: string): boolean {\n        const items = this.data.comparisonEquipment[slotId];\n        if (!items) return false;\n\n        const index = items.findIndex(i => i.guid === guid);\n        if (index === -1) return false;\n\n        items.splice(index, 1);\n        this.saveDualWrite();\n        return true;\n    }\n\n    /**\n     * Clear all comparison items from a slot\n     * @param slotId - Equipment slot ID\n     */\n    clearComparisonItems(slotId: EquipmentSlotId): void {\n        if (this.data.comparisonEquipment[slotId]) {\n            this.data.comparisonEquipment[slotId] = [];\n            this.saveDualWrite();\n        }\n    }\n\n    /**\n     * Add a stat line to a comparison item\n     * @param slotId - Equipment slot ID\n     * @param guid - Item GUID\n     * @param statLine - Stat line data\n     * @returns True if successful, false if item not found\n     */\n    addComparisonItemStatLine(slotId: EquipmentSlotId, guid: string, statLine: ComparisonStatLine): boolean {\n        const items = this.data.comparisonEquipment[slotId];\n        if (!items) return false;\n\n        const item = items.find(i => i.guid === guid);\n        if (!item) return false;\n\n        item.statLines.push(statLine);\n        this.saveDualWrite();\n        return true;\n    }\n\n    /**\n     * Remove a stat line from a comparison item by index\n     * @param slotId - Equipment slot ID\n     * @param guid - Item GUID\n     * @param statLineIndex - Index of stat line to remove\n     * @returns True if successful, false if item or stat line not found\n     */\n    removeComparisonItemStatLine(slotId: EquipmentSlotId, guid: string, statLineIndex: number): boolean {\n        const items = this.data.comparisonEquipment[slotId];\n        if (!items) return false;\n\n        const item = items.find(i => i.guid === guid);\n        if (!item) return false;\n\n        if (statLineIndex < 0 || statLineIndex >= item.statLines.length) return false;\n\n        item.statLines.splice(statLineIndex, 1);\n        this.saveDualWrite();\n        return true;\n    }\n\n    /**\n     * Generate a UUID v4\n     * @returns UUID v4 string\n     */\n    private generateUUID(): string {\n        // UUID v4 implementation\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n            const r = Math.random() * 16 | 0;\n            const v = c === 'x' ? r : (r & 0x3 | 0x8);\n            return v.toString(16);\n        });\n    }\n\n    // ========================================================================\n    // PERSISTENCE\n    // ========================================================================\n\n    /**\n     * Save to localStorage\n     */\n    private saveDualWrite(): void {\n        localStorage.setItem('gear-lab-data', JSON.stringify(this.data));\n    }\n\n    // ========================================================================\n    // TESTING/DEBUGGING HELPERS\n    // ========================================================================\n\n    /**\n     * Reset store to defaults (for testing)\n     */\n    reset(): void {\n        this.data = JSON.parse(JSON.stringify(DEFAULT_GEAR_LAB_DATA));\n        this.saveDualWrite();\n    }\n\n    /**\n     * Check if store is initialized\n     */\n    isReady(): boolean {\n        return this.isInitialized;\n    }\n}\n\n// ========================================================================\n// SINGLETON EXPORT\n// ========================================================================\n\nexport const gearLabStore = new GearLabStore();\n"],
  "mappings": "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",
  "names": []
}
